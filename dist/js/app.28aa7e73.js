(function(t){function e(e){for(var a,r,l=e[0],o=e[1],c=e[2],d=0,m=[];d<l.length;d++)r=l[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&m.push(i[r][0]),i[r]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,l=1;l<s.length;l++){var o=s[l];0!==i[o]&&(a=!1)}a&&(n.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},i={app:0},n=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=o;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";s("85ec")},"06a4":function(t,e,s){"use strict";s("75c0")},"116f":function(t,e,s){t.exports=s.p+"img/searching.816d2e6f.svg"},"23f4":function(t,e,s){t.exports=s.p+"img/applemusic.790900db.png"},2501:function(t,e,s){"use strict";s("d014")},"361d":function(t,e,s){"use strict";s("f25e")},"3d8b":function(t,e,s){},4440:function(t,e,s){t.exports=s.p+"img/facebook.4cbc9013.png"},4678:function(t,e,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=n(t);return s(e)}function n(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}i.keys=function(){return Object.keys(a)},i.resolve=n,t.exports=i,i.id="4678"},"4b5c":function(t,e,s){},"547e":function(t,e,s){"use strict";s("916a")},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[t._m(0),s("router-view")],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"absolute z-20 top-0 left-0 right-0 bottom-0 bg-black flex justify-center items-center",attrs:{id:"loader"}},[s("span",{staticClass:"animate-ping absolute inline-flex h-32 w-32 rounded-full bg-main opacity-75"}),s("span",{staticClass:"text-white opacity-75 text-2xl font-black"},[t._v("YziMusic")])])}],r={name:"App",mounted:function(){window.addEventListener("load",(function(){document.getElementById("loader").remove()}))}},l=r,o=(s("034f"),s("2877")),c=Object(o["a"])(l,i,n,!1,null,null,null),u=c.exports,d=(s("99af"),s("45fc"),s("96cf"),s("1da1")),m=s("2909"),p=s("2f62"),f=(s("4160"),s("b64b"),s("159b"),{user:{firstname:"",lastname:"",email:"",username:"",password:"",profilesTypes:[],musicsTypes:[],description:"",location:"",birthday:"",facebookLink:"",twitterLink:"",instagramLink:"",youtubeLink:"",spotifyLink:"",deezerLink:"",appleMusicLink:"",soundcloudLink:"",banished:!1,likes:[],profilePicture:null,creationDate:null,role:""},is_login:!1,pendingUser:!1}),h={getUser:function(t){return t.user},getIsLogin:function(t){return t.is_login}},v={SET_USER:function(t,e){t.user=e},SET_USER_FIELD:function(t,e){Object.keys(e).forEach((function(s){t.user[s]=e[s]}))},SET_USER_TRACK:function(t,e){t.user.tracks.push(e)},SET_IS_LOG_IN_TRUE:function(t){t.is_login=!0,localStorage.setItem("4nR943eM6zRuwnh",!0)},SET_IS_LOG_IN_FALSE:function(t){t.is_login=!1,localStorage.removeItem("4nR943eM6zRuwnh")},SET_PENDING_USER_TRUE:function(t){t.pendingUser=!0},SET_PENDING_USER_FALSE:function(t){t.pendingUser=!1}},b={setUserField:function(t,e){var s=t.commit;s("SET_USER_FIELD",e)},setUserTrack:function(t,e){var s=t.commit;s("SET_USER_TRACK",e)},loadUser:function(t){t.commit("SET_PENDING_USER_TRUE"),a["a"].prototype.$http.get("http://localhost:6985/auth/me").then((function(e){t.commit("SET_USER_FIELD",e.data.data),t.commit("SET_IS_LOG_IN_TRUE")})),t.commit("SET_PENDING_USER_FALSE")},logInUser:function(t,e){var s=e.email,i=e.password;t.commit("INIT_ERROR"),t.state.pendingUser||(t.commit("SET_PENDING_USER_TRUE"),a["a"].prototype.$http.post("http://localhost:6985/auth/login",{email:s,password:i}).then((function(e){t.commit("SET_USER_FIELD",e.data.data.user),t.commit("SET_IS_LOG_IN_TRUE")})),t.commit("SET_PENDING_USER_FALSE"))},logOutUser:function(t){t.commit("SET_IS_LOG_IN_FALSE"),t.commit("SET_USER",{})},registerUser:function(t){t.commit("INIT_ERROR"),t.commit("SET_USER_FIELD",{creationDate:new Date}),t.commit("SET_USER_FIELD",{likes:[]}),t.commit("SET_USER_FIELD",{profilePicture:null}),t.commit("SET_USER_FIELD",{banished:!1}),t.commit("SET_USER_FIELD",{role:"user"}),t.state.pendingUser||(a["a"].prototype.$http.post("http://localhost:6985/auth/register",t.state.user).catch((function(){os.push({name:"Home"})})),t.commit("SET_PENDING_USER_FALSE"))}},g={namespaced:!0,state:f,getters:h,mutations:v,actions:b},x=g,k=(s("c740"),{tracks:[],playingTrack:null,play:!1}),y={getTracks:function(t){return t.tracks},getPlayingTrack:function(t){return t.playingTrack}},w={SET_TRACKS:function(t,e){t.tracks=e,t.tracks.forEach((function(t){return t.isCurrent=!1}))},SET_CURRENT_TRACK:function(t){t.tracks.forEach((function(t){return t.isCurrent=!1}));var e=t.tracks.findIndex((function(e){return e._id===t.playingTrack.track._id}));t.tracks[e].isCurrent=!0},SET_PLAY:function(t){t.play=!0,t.playingTrack.audio.play()},SET_PAUSE:function(t){t.play=!1,t.playingTrack.audio.pause()},RESET_PLAYING_TRACK:function(t){t.play=!1,t.playingTrack=null},SET_PLAYING_TRACK:function(t,e){t.playingTrack?(t.playingTrack.track=e,t.playingTrack.audio.src="data:"+e.contentType+";base64,"+e.audio):t.playingTrack={track:e,audio:new Audio("data:"+e.contentType+";base64,"+e.audio)}}},C={setTracks:function(t,e){t.commit("SET_TRACKS",e.tracks),k.playingTrack&&!k.tracks.some((function(t){return t._id===k.playingTrack.track._id}))?t.dispatch("setPlayingTrack",e.trackId):k.playingTrack&&t.commit("SET_CURRENT_TRACK")},setPlay:function(t){var e=t.commit;e("SET_PLAY"),e("SET_CURRENT_TRACK")},setPause:function(t){var e=t.commit;e("SET_PAUSE")},setCurrentTrack:function(t){var e=t.commit;e("SET_CURRENT_TRACK")},playForward:function(t){t.commit("SET_CURRENT_TRACK");var e=null,s=k.tracks.findIndex((function(t){return t.isCurrent}));e=s-1<0?k.tracks[k.tracks.length-1]:k.tracks[s-1],e&&t.dispatch("setPlayingTrack",e._id)},playBackward:function(t){t.commit("SET_CURRENT_TRACK");var e=null,s=k.tracks.findIndex((function(t){return t.isCurrent}));e=s+1===k.tracks.length?k.tracks[0]:k.tracks[s+1],e&&t.dispatch("setPlayingTrack",e._id)},resetPlayingTrack:function(t){var e=t.commit;e("RESET_PLAYING_TRACK")},setPlayingTrack:function(t,e){var s=t.commit;a["a"].prototype.$http.get("http://localhost:6985/api/tracks/"+e).then((function(t){console.log("setplaying"),s("SET_PLAYING_TRACK",t.data.data),s("SET_CURRENT_TRACK"),s("SET_PLAY")})).catch((function(){}))}},_={namespaced:!0,state:k,getters:y,mutations:w,actions:C},j=_,L={snackbar:{status:!1,optionalBtnFlag:!1,optionalBtnLink:"",optionalBtnName:"",type:"info",timeout:6e3,content:""}},T={},P={SET_SNACK_FALSE:function(t){t.snackbar.status=!1,t.snackbar.optionalBtnFlag=!1,t.snackbar.optionalBtnLink="",t.snackbar.optionalBtnName="",t.snackbar.content="",t.snackbar.type="info",t.snackbar.timeout=6e3},SET_SNACK_TRUE:function(t,e){t.snackbar.status=!0,t.snackbar.optionalBtnFlag=e.optionalBtnFlag,t.snackbar.optionalBtnLink=e.optionalBtnLink,t.snackbar.optionalBtnName=e.optionalBtnName,t.snackbar.content=e.content,t.snackbar.timeout=e.timeout,t.snackbar.type=e.type}},U={snackTrue:function(t,e){var s=t.commit;null==e.type&&(e.type="error"),null==e.timeout&&(e.timeout=6e3),null==e.optionalBtnFlag&&(e.optionalBtnFlag=!1),null==e.optionalBtnLink&&(e.optionalBtnLink=""),null==e.optionalBtnName&&(e.optionalBtnName=""),s("SET_SNACK_TRUE",e),setTimeout((function(){s("SET_SNACK_FALSE")}),e.timeout)}},E={namespaced:!0,state:L,mutations:P,getters:T,actions:U},S=E;a["a"].use(p["a"]);var M=new p["a"].Store({modules:{User:x,Tracks:j,Utils:S}}),N=s("8c4f"),R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main bg-ym-black relative"},[a("nav",{staticClass:"flex items-center justify-between flex-wrap bg-ym-black p-6 fixed w-full z-10 top-0"},[a("div",{staticClass:"flex items-center flex-shrink-0 text-white mr-6"},[a("button",{staticClass:"text-white no-underline hover:text-white hover:no-underline",on:{click:function(e){return t.goTo("Home")}}},[a("img",{staticClass:"h-5",attrs:{src:s("e347"),alt:"YziMusic logo"}})])]),a("div",{staticClass:"block lg:hidden"},[a("button",{staticClass:"flex items-center px-3 py-2 border rounded text-gray-500 border-gray-600 hover:text-white hover:border-white",on:{click:t.toggleNav}},[a("svg",{staticClass:"fill-current h-3 w-3",attrs:{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[a("title",[t._v("Menu")]),a("path",{attrs:{d:"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"}})])])]),a("div",{class:["w-full flex-grow lg:flex lg:items-center lg:w-auto lg:block pt-6 lg:pt-0",t.navToggle?"":"hidden"],on:{click:t.toggleNav}},[a("ul",{staticClass:"list-reset lg:flex justify-end flex-1 items-center"},[a("li",{staticClass:"flex justify-end my-2"},[a("button",{staticClass:"btn-icon-link",on:{click:function(e){return t.goTo("Home")}}},[a("img",{attrs:{src:s("ac9d"),alt:"pictogramme accueil","aria-hidden":"true"}}),a("span",{class:"Home"===t.currentRouteName?"border-b-2 border-main":""},[t._v("Accueil")])])]),a("li",{staticClass:"flex justify-end my-2"},[a("button",{staticClass:"btn-icon-link",on:{click:function(e){return t.goTo("Profile.search")}}},[a("img",{attrs:{src:s("d103"),alt:"pictogramme recherche","aria-hidden":"true"}}),a("span",{class:"Profile.search"===t.currentRouteName?"border-b-2 border-main":""},[t._v("Trouver un profil")])])]),t.is_login?["admin"===t.user.role?a("li",{staticClass:"flex justify-end my-2"},[a("button",{staticClass:"btn-icon-link",on:{click:function(e){return t.goTo("Admin.dashboard")}}},[a("img",{attrs:{src:s("ecef"),alt:"pictogramme dashboard","aria-hidden":"true"}}),a("span",{class:["Admin.dashboard"===t.currentRouteName?"border-b-2 border-main":"","text-main"]},[t._v("Dashboard")])])]):a("li",{staticClass:"flex justify-end my-2"},[a("button",{staticClass:"flex items-center justify-center mx-4",on:{click:function(e){return t.goTo("Profile.me")}}},[a("img",{staticClass:"h-8 w-8 profile-img rounded-full border-solid border-main border-2",attrs:{src:t.imageProfile,alt:"photo de profil"}}),a("span",{class:["username","Profile.me"===t.currentRouteName?"border-b-2 border-main":""]},[t._v(t._s(t.user.username))])])]),a("li",{staticClass:"flex justify-end my-2"},[a("button",{staticClass:"btn-icon-link",on:{click:t.logout}},[a("img",{attrs:{src:s("69e3"),alt:"pictogramme connexion","aria-hidden":"true"}}),a("span",[t._v("Déconnexion")])])])]:[a("li",{staticClass:"flex justify-end my-2'"},[a("button",{staticClass:"btn-icon-link",on:{click:function(e){return t.goTo("Login")}}},[a("img",{attrs:{src:s("81c9"),alt:"pictogramme connexion","aria-hidden":"true"}}),a("span",{class:"Login"===t.currentRouteName?"border-b-2 border-main":""},[t._v("Connexion")])])]),a("li",{staticClass:"flex justify-end my-2"},[a("button",{staticClass:"btn-icon-link",on:{click:function(e){return t.goTo("Register")}}},[a("img",{attrs:{src:s("d104"),alt:"pictogramme inscription","aria-hidden":"true"}}),a("span",{class:"Register"===t.currentRouteName?"border-b-2 border-main":""},[t._v("Inscription")])])])]],2)])]),t.alert.status?a("div",{staticClass:"fixed w-full flex justify-center z-50 pt-8"},[a("alert",{attrs:{msg:t.alert.content,type:t.alert.type}})],1):t._e(),a("div",{staticClass:"relative"},[a("div",{staticClass:"min-h-3/4 mx-auto bg-ym-black py-10 px-10"},[a("router-view"),a("trackPlayer")],1)]),t._m(0)])},z=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"absolute bottom-0 h-20 flex items-center justify-between flex-wrap bg-ym-black p-6 w-full z-10"},[s("p",{staticClass:"text-white"},[t._v("YziMusic")]),s("p",{staticClass:"text-white"},[t._v("Allan Commelin")])])}],O=(s("b0c0"),s("5530")),A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.playingTrack?s("div",{staticClass:"fixed bottom-0 left-0 right-0 flex-col items-center px-4 py-2 bg-main z-50"},[s("div",{staticClass:"flex justify-center items-center text-white text-sm"},[s("span",{staticClass:"font-bold"},[t._v(t._s(t.playingTrack.track.name)+" ")]),t._v(" - "+t._s(t.playingTrack.track.user.username)+" ")]),s("div",{staticClass:"flex justify-center items-center my-1"},[s("button",{staticClass:"mx-1 border-1 border-white hover:text-white hover:text-white text-white font-bold rounded-full flex justify-center items-center h-6 w-6",on:{click:t.toPlayForward}},[s("i",{staticClass:"fas fa-backward icons-player"})]),t.play?s("button",{staticClass:"mx-1 border-1 text-white hover:text-white hover:text-white text-white font-bold rounded-full flex justify-center items-center h-6 w-6",on:{click:t.toPause}},[s("i",{staticClass:"fas fa-pause icons-player"})]):s("button",{staticClass:"mx-1 border-1 text-white hover:text-white hover:text-white text-white font-bold rounded-full flex justify-center items-center h-6 w-6",on:{click:t.toPlay}},[s("i",{staticClass:"fas fa-play icons-player"})]),s("button",{staticClass:"mx-1 border-1 botext-white hover:text-white hover:text-white text-white font-bold rounded-full flex justify-center items-center h-6 w-6",on:{click:t.toPlayBackward}},[s("i",{staticClass:"fas fa-forward icons-player"})])]),s("div",[s("div",{ref:"progress",staticClass:"progress"},[s("div",{staticClass:"progress__top"},[s("div",{staticClass:"progress__time text-white font-500 text-sm"},[t._v(t._s(t.currentTime))]),s("div",{staticClass:"progress__duration text-white font-bold text-sm"},[t._v(t._s(t.duration))])]),s("div",{staticClass:"progress__bar",on:{click:t.clickProgress}},[s("div",{staticClass:"progress__current bg-ym-blue",style:{width:t.barWidth}})])]),s("div",{})])]):t._e()},$=[],I={name:"trackPlayer",data:function(){return{circleLeft:null,barWidth:null,duration:null,currentTime:null}},watch:{play:function(){if(this.play){var t=this;this.playingTrack.audio.ontimeupdate=function(){t.generateTime()},this.playingTrack.audio.onloadedmetadata=function(){t.generateTime()}}}},computed:Object(O["a"])({},Object(p["c"])({tracks:function(t){return t.Tracks.tracks},playingTrack:function(t){return t.Tracks.playingTrack},play:function(t){return t.Tracks.play}})),methods:{toPause:function(){this.$store.dispatch("Tracks/setPause")},toPlay:function(){this.$store.dispatch("Tracks/setPlay")},toPlayForward:function(){this.$store.dispatch("Tracks/playForward")},toPlayBackward:function(){this.$store.dispatch("Tracks/playBackward")},generateTime:function(){var t=100/this.playingTrack.audio.duration*this.playingTrack.audio.currentTime;this.barWidth=t+"%",this.circleLeft=t+"%";var e=Math.floor(this.playingTrack.audio.duration/60),s=Math.floor(this.playingTrack.audio.duration-60*e),a=Math.floor(this.playingTrack.audio.currentTime/60),i=Math.floor(this.playingTrack.audio.currentTime-60*a);e<10&&(e="0"+e),s<10&&(s="0"+s),a<10&&(a="0"+a),i<10&&(i="0"+i),this.duration=e+":"+s,this.currentTime=a+":"+i},updateBar:function(t){var e=this.$refs.progress,s=this.playingTrack.audio.duration,a=t-e.offsetLeft,i=100*a/e.offsetWidth;i>100&&(i=100),i<0&&(i=0),this.barWidth=i+"%",this.circleLeft=i+"%",this.playingTrack.audio.currentTime=s*i/100,this.toPlay()},clickProgress:function(t){this.toPause(),this.updateBar(t.pageX)}}},D=I,F=(s("6b3e"),Object(o["a"])(D,A,$,!1,null,"4243bb80",null)),B=F.exports,q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:t.classType,attrs:{role:"alert"}},["success"===t.type?[s("div",{staticClass:"text-center"},[s("svg",{staticClass:"svg-icon success",attrs:{viewBox:"0 0 20 20"}},[s("path",{attrs:{d:"M10.219,1.688c-4.471,0-8.094,3.623-8.094,8.094s3.623,8.094,8.094,8.094s8.094-3.623,8.094-8.094S14.689,1.688,10.219,1.688 M10.219,17.022c-3.994,0-7.242-3.247-7.242-7.241c0-3.994,3.248-7.242,7.242-7.242c3.994,0,7.241,3.248,7.241,7.242C17.46,13.775,14.213,17.022,10.219,17.022 M15.099,7.03c-0.167-0.167-0.438-0.167-0.604,0.002L9.062,12.48l-2.269-2.277c-0.166-0.167-0.437-0.167-0.603,0c-0.166,0.166-0.168,0.437-0.002,0.603l2.573,2.578c0.079,0.08,0.188,0.125,0.3,0.125s0.222-0.045,0.303-0.125l5.736-5.751C15.268,7.466,15.265,7.196,15.099,7.03"}})])])]:[s("svg",{class:["svg-icon",t.type],attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20"}},[s("path",{attrs:{d:"M18.344,16.174l-7.98-12.856c-0.172-0.288-0.586-0.288-0.758,0L1.627,16.217c0.339-0.543-0.603,0.668,0.384,0.682h15.991C18.893,16.891,18.167,15.961,18.344,16.174 M2.789,16.008l7.196-11.6l7.224,11.6H2.789z M10.455,7.552v3.561c0,0.244-0.199,0.445-0.443,0.445s-0.443-0.201-0.443-0.445V7.552c0-0.245,0.199-0.445,0.443-0.445S10.455,7.307,10.455,7.552M10.012,12.439c-0.733,0-1.33,0.6-1.33,1.336s0.597,1.336,1.33,1.336c0.734,0,1.33-0.6,1.33-1.336S10.746,12.439,10.012,12.439M10.012,14.221c-0.244,0-0.443-0.199-0.443-0.445c0-0.244,0.199-0.445,0.443-0.445s0.443,0.201,0.443,0.445C10.455,14.021,10.256,14.221,10.012,14.221"}})])],t.msg?s("span",{staticClass:"pl-2 block sm:inline"},[t._v(t._s(t.msg))]):t._e()],2)},K=[],G={name:"Alert",props:{msg:String,type:String},computed:{classType:function(){var t;switch(this.type){case"error":t={"px-4 py-3 rounded relative text-left bg-red-100 border border-red-400 text-red-700 z-50":!0};break;case"success":t={"px-4 py-3 rounded relative text-left bg-green-100 border border-green-400 text-green-700 z-50":!0};break;case"info":t={"px-4 py-3 rounded relative text-left bg-blue-100 border border-blue-400 text-blue-700 z-50":!0};break}return t}}},H=G,Y=(s("2501"),Object(o["a"])(H,q,K,!1,null,"1dae1732",null)),V=Y.exports,J={name:"Main",components:{trackPlayer:B,alert:V},data:function(){return{navToggle:!1}},computed:Object(O["a"])(Object(O["a"])({},Object(p["c"])({user:function(t){return t.User.user},is_login:function(t){return t.User.is_login},alert:function(t){return t.Utils.snackbar}})),{},{imageProfile:function(){return this.user.profilePicture?"data:"+this.user.profilePicture.contentType+";base64,"+this.user.profilePicture.picture:s("d6eb")},currentRouteName:function(){return this.$route.name}}),methods:Object(O["a"])(Object(O["a"])({},Object(p["b"])({logOutUser:"User/logOutUser"})),{},{toggleNav:function(){this.navToggle=!this.navToggle},goTo:function(t){this.$router.push({name:t})},logout:function(){this.logOutUser(),this.goTo("Login")}})},W=J,X=(s("361d"),Object(o["a"])(W,R,z,!1,null,null,null)),Q=X.exports,Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"absolute bg-center bg-cover flex items-center justify-center top-0 left-0 right-0 bg-gray-400 h-40 sm:h-72",style:{backgroundImage:"url("+t.homeBanner+")"}},[s("span",{staticClass:"font-black text-6xl title-ym"},[t._v("YziMusic")])]),s("div",{staticClass:"mt-40 flex flex-wrap sm:mt-72 mb-16"},[s("div",{staticClass:"w-full"},[s("h2",{staticClass:"relative text-left font-black uppercase italic text-5xl shadow-title title--outline mb-4"},[t._v("Populaires")]),s("div",{staticClass:"scrollable-cards"},t._l(t.mostLikedUsers,(function(t){return s("div",{key:t._id,staticClass:"card-user"},[s("UserCard",{attrs:{user:t}})],1)})),0)]),s("div",{staticClass:"w-full"},[s("h2",{staticClass:"relative text-left font-black uppercase italic text-5xl shadow-title title--outline mb-4"},[t._v("Nouveaux")]),s("div",{staticClass:"scrollable-cards"},t._l(t.mostRecentUsers,(function(t){return s("div",{key:t._id,staticClass:"card-user"},[s("UserCard",{attrs:{user:t}})],1)})),0)])])])},tt=[],et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"w-full min-width relative rounded text-center rounded-t-lg bg-ym-light-black text-white overflow-hidden shadow max-w-xs my-3"},[s("div",{staticClass:"absolute right-0 top-0 p-2"},[s("span",{staticClass:"font-black text-sm"},[t._v(t._s(t.user.likes.length)+" "),s("i",{staticClass:"fas fa-thumbs-up text-sm text-ym-blue"})])]),s("div",{staticClass:"flex justify-center mt-8"},[s("img",{staticClass:"h-28 w-28 profile-img rounded-full border-solid border-main border-5 -mt-3",attrs:{src:t.imageProfile,alt:"profile"}})]),s("div",{staticClass:"text-center px-3 pb-3 pt-2"},[s("h3",{staticClass:"-mt-8 text-white text-2xl font-black font-sans uppercase italic text-shadow"},[t._v(t._s(t.user.username))]),s("ul",{staticClass:"chips mt-2 font-sans font-light"},t._l(t.constProfilesTypes,(function(e){return s("li",{key:e.value,class:[t.user.profilesTypes.includes(e.value)?"activeProfile":"inactiveProfile"]},[t._v(" "+t._s(e.label)+" ")])})),0)]),s("div",{staticClass:"musics-container flex px-3 py-2 text-grey-dark mb-18"},[t._m(0),s("ul",{staticClass:"chips pl-4 flex flex-wrap justify-left"},[t._l(t.musicsTypesActiveDisplay(),(function(e){return s("li",{key:e.value,staticClass:"chipMusic"},[t._v(" "+t._s(e.label)+" ")])})),s("li",[t._v(t._s(t.musicsTypesActive(!0)>3?"...":""))])],2)]),s("div",{staticClass:"flex justify-center left-0 right-0 absolute bottom-0"},[s("router-link",{staticClass:"uppercase italic font-bold w-full mt-4 btn-primary transition duration-300 ease-in-out focus:outline-none focus:shadow-outline bg-main hover:bg-main text-white font-normal py-4 px-4 rounded-b",attrs:{to:{name:"Profile.show",params:{id:t.user._id}}}},[t._v(" Découvrir ")])],1)])},st=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"uppercase font-black text-main justify-left flex flex-col items-start align-center pr-4 border-r-2 border-ym-light-black"},[s("span",{staticClass:"block"},[t._v("Genres")]),s("span",{staticClass:"block"},[t._v("Musicaux")])])}],at=(s("4de4"),s("caad"),s("fb6a"),s("2532"),[{value:"musician",label:"Musicien",checked:!1},{value:"singer",label:"Chanteur",checked:!1},{value:"beatmaker",label:"Beatmaker",checked:!1}]),it=at,nt=[{value:"classical",label:"Classique",checked:!1},{value:"country",label:"Country",checked:!1},{value:"electro",label:"Electro",checked:!1},{value:"hip-hop",label:"Hip-hop",checked:!1},{value:"jazz",label:"Jazz",checked:!1},{value:"k-pop",label:"K-pop",checked:!1},{value:"metal",label:"Métal",checked:!1},{value:"pop",label:"Pop",checked:!1},{value:"rap",label:"Rap",checked:!1},{value:"rhythm&blues",label:"Rhythm & blues",checked:!1},{value:"rock",label:"Rock",checked:!1},{value:"techno",label:"Techno",checked:!1},{value:"reggae",label:"Reggae",checked:!1}],rt=nt,lt={name:"UserCard",props:["user"],data:function(){return{constProfilesTypes:it,constMusicsTypes:rt}},computed:{imageProfile:function(){return this.user.profilePicture?"data:"+this.user.profilePicture.contentType+";base64,"+this.user.profilePicture.picture:s("d6eb")}},methods:{musicsTypesActive:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=this.constMusicsTypes.filter((function(e){return t.user.musicsTypes.includes(e.value)}));return e?s.length:s},musicsTypesActiveDisplay:function(){return this.musicsTypesActive().slice(0,3)}}},ot=lt,ct=(s("be75"),Object(o["a"])(ot,et,st,!1,null,"350d5fd7",null)),ut=ct.exports,dt={name:"Home",components:{UserCard:ut},data:function(){return{homeBanner:s("89dc"),mostLikedUsers:[],mostRecentUsers:[]}},computed:Object(O["a"])({},Object(p["c"])({user:function(t){return t.User.user},is_login:function(t){return t.User.is_login}})),mounted:function(){this.getMostLikedUsers(),this.getMostRecentUsers()},methods:{getMostRecentUsers:function(){var t=this;a["a"].prototype.$http.get("http://localhost:6985/api/users/most/recent").then((function(e){t.mostRecentUsers=e.data.data}))},getMostLikedUsers:function(){var t=this;a["a"].prototype.$http.get("http://localhost:6985/api/users/most/liked").then((function(e){t.mostLikedUsers=e.data.data}))}}},mt=dt,pt=(s("dea3"),Object(o["a"])(mt,Z,tt,!1,null,"1293a2a4",null)),ft=pt.exports,ht=[{path:"/",name:"Home",component:ft}],vt=ht,bt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mx-auto max-w-md"},[s("h1",{staticClass:"text-3xl my-4 font-bold text-white font-black"},[t._v("Connexion")]),s("div",{staticClass:"flex flex-wrap justify-between text-ym-grey"},[s("div",{staticClass:"w-full text-left my-2"},[s("label",{staticClass:"label",attrs:{for:"email"}},[t._v("Adresse mail")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"input",attrs:{id:"email",required:"",name:"email",type:"email",placeholder:"JohnDoe@gmail.com"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),s("div",{staticClass:"w-full text-left my-2"},[s("label",{staticClass:"label",attrs:{for:"password"}},[t._v("Mot de passe")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input",attrs:{id:"password",required:"",name:"password",type:"password",placeholder:"Minimum 8 caractères"},domProps:{value:t.password},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)},input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("div",{staticClass:"mt-10 w-full flex justify-center items-center flex-col"},[s("button",{staticClass:"btn-yzi w-max",attrs:{disabled:!t.isFullFilled},on:{click:t.login}},[t._v("Se connecter")]),s("router-link",{staticClass:"my-2 hover:underline",attrs:{to:"Register"}},[t._v(" Pas encore de compte ? ")])],1)])])},gt=[],xt={name:"Login",data:function(){return{email:"",password:""}},computed:Object(O["a"])(Object(O["a"])({},Object(p["c"])({user:function(t){return t.User.user},is_login:function(t){return t.User.is_login}})),{},{isFullFilled:function(){return""!==this.email&&""!==this.password}}),watch:{is_login:function(){this.is_login&&this.$router.push({name:"Home"})}},methods:Object(O["a"])(Object(O["a"])({},Object(p["b"])({logInUser:"User/logInUser"})),{},{login:function(){this.logInUser({email:this.email.toLowerCase(),password:this.password})}})},kt=xt,yt=Object(o["a"])(kt,bt,gt,!1,null,"06c1388d",null),wt=yt.exports,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mx-auto max-w-4xl"},[1===t.step?a("Step1",{on:{increment:t.incrementStep,decrement:t.decrementStep}}):2===t.step?a("Step2",{on:{increment:t.incrementStep,decrement:t.decrementStep}}):3===t.step?a("Step3",{on:{increment:t.incrementStep,decrement:t.decrementStep}}):t.alert.status?a("div",[a("div",{staticClass:"flex justify-around flex-wrap"},[a("div",{staticClass:"py-8 flex flex-col justify-center"},[a("p",{staticClass:"font-medium text-white text-xl mt-10 mb-10"},[t._v(" Un problème est survenue ! ")]),a("div",[a("router-link",{staticClass:"uppercase italic font-bold inline-block my-2 btn-primary transition duration-300 ease-in-out focus:outline-none focus:shadow-outline bg-main hover:bg-main text-white font-normal py-4 px-4 rounded",attrs:{to:{name:"Home"}}},[t._v(" Accueil ")])],1)])])]):a("div",[a("div",{staticClass:"flex justify-around flex-wrap"},[a("img",{staticClass:"sm:h-96 h-48 sm:mt-16",attrs:{src:s("5750"),alt:"Image de bienvenue"}}),a("div",{staticClass:"py-8 flex flex-col justify-center"},[a("h2",{staticClass:"font-black sm:text-5xl text-4xl text-main"},[t._v(" Bienvenue sur YziMusic "),a("span",{staticClass:"text-ym-blue"},[t._v(t._s(t.user.username))]),a("i",{staticClass:"fas fa-compact-disc ml-4"})]),a("p",{staticClass:"font-medium text-white text-xl mb-10"},[t._v(" Vous pouvez désormais vous connecter en cliquant sur le bouton ci-dessous ")]),a("div",[a("router-link",{staticClass:"uppercase italic font-bold inline-block my-2 btn-primary transition duration-300 ease-in-out focus:outline-none focus:shadow-outline bg-main hover:bg-main text-white font-normal py-4 px-4 rounded",attrs:{to:{name:"login"}}},[t._v(" Se connecter ")])],1)])])])],1)},_t=[],jt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",{staticClass:"text-3xl my-4 font-bold text-white font-black"},[t._v("Vos informations")]),s("div",{staticClass:"flex flex-wrap justify-between text-ym-grey"},[s("div",{staticClass:"sm:w-1/2 w-full sm:pr-2 text-left my-2"},[s("label",{staticClass:"label",attrs:{for:"firstname"}},[t._v("Prénom*")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.firstname,expression:"firstname"}],staticClass:"input",attrs:{id:"firstname",name:"firstname",required:"",placeholder:"John"},domProps:{value:t.firstname},on:{input:function(e){e.target.composing||(t.firstname=e.target.value)}}})]),s("div",{staticClass:"sm:w-1/2 w-full sm:pl-2 text-left my-2"},[s("label",{staticClass:"label",attrs:{for:"lastname"}},[t._v("Nom*")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.lastname,expression:"lastname"}],staticClass:"input",attrs:{id:"lastname",name:"lastname",required:"",placeholder:"Doe"},domProps:{value:t.lastname},on:{input:function(e){e.target.composing||(t.lastname=e.target.value)}}})]),s("div",{staticClass:"w-full text-left my-2"},[s("label",{staticClass:"label",attrs:{for:"email"}},[t._v("Adresse mail*")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"input",attrs:{id:"email",required:"",name:"email",type:"email",placeholder:"JohnDoe@gmail.com"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),s("div",{staticClass:"sm:w-1/2 w-full sm:pr-2 text-left my-2"},[s("label",{staticClass:"label",attrs:{for:"username"}},[t._v("Pseudo*")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"input",attrs:{id:"username",required:"",name:"username",placeholder:"Jdoe"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),s("div",{staticClass:"sm:w-1/2 w-full sm:pl-2 text-left my-2"},[s("label",{staticClass:"label",attrs:{for:"password"}},[t._v("Mot de passe*")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input",attrs:{id:"password",required:"",name:"password",type:"password",placeholder:"Minimum 8 caractères"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._m(0),s("div",{staticClass:"mt-10 mb-16 w-full flex justify-center"},[s("button",{staticClass:"btn-yzi",attrs:{disabled:!t.isFullFilled},on:{click:function(e){return t.next()}}},[t._v("Suivant")])])])])},Lt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"w-full text-right mt-4"},[s("span",[t._v("Champs obligatoires*")])])}],Tt={name:"RegisterStep1",data:function(){return{firstname:"",lastname:"",email:"",username:"",password:""}},computed:Object(O["a"])(Object(O["a"])({},Object(p["c"])({user:function(t){return t.User.user}})),{},{isFullFilled:function(){return""!==this.firstname&&""!==this.lastname&&""!==this.email&&""!==this.username&&""!==this.password&&this.password.length>7}}),created:function(){this.user.firstname&&(this.firstname=this.user.firstname),this.user.lastname&&(this.lastname=this.user.lastname),this.user.email&&(this.email=this.user.email),this.user.username&&(this.username=this.user.username),this.user.password&&(this.password=this.user.password)},methods:{next:function(){this.$store.dispatch("User/setUserField",{firstname:this.firstname,lastname:this.lastname,email:this.email.toLowerCase(),username:this.username,password:this.password}),this.$emit("increment")}}},Pt=Tt,Ut=Object(o["a"])(Pt,jt,Lt,!1,null,"45550a76",null),Et=Ut.exports,St=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h2",{staticClass:"text-3xl mb-6 font-bold text-white"},[t._v("Votre profil")]),s("div",{staticClass:"flex flex-wrap text-ym-grey text-left"},[s("div",{staticClass:"w-full sm:pr-2 text-left my-2"},[s("label",{staticClass:"label",attrs:{for:"description"}},[t._v("Description*")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"input w-full",attrs:{placeholder:"Bio, projets, souhaits...",name:"description",id:"description",rows:"8"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),s("div",{staticClass:"sm:w-1/2 w-full sm:pr-2 text-left my-2"},[s("label",{staticClass:"label",attrs:{for:"location"}},[t._v("Ville, Pays*")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.location,expression:"location"}],staticClass:"input",attrs:{type:"text",id:"location",placeholder:"Paris, France"},domProps:{value:t.location},on:{input:function(e){e.target.composing||(t.location=e.target.value)}}})]),s("div",{staticClass:"sm:w-1/2 w-full sm:pr-2 text-left my-2"},[s("label",{staticClass:"label",attrs:{for:"birthday"}},[t._v("Date de naissance*")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.birthday,expression:"birthday"}],staticClass:"input",attrs:{type:"date",id:"birthday",placeholder:"31/12/1990"},domProps:{value:t.birthday},on:{input:function(e){e.target.composing||(t.birthday=e.target.value)}}})]),s("div",{staticClass:"w-full sm:w-1/2"},[s("h3",{staticClass:"text-xl w-full text-ym-blue font-bold my-4"},[t._v("Styles de musique")]),s("div",{staticClass:"flex flex-wrap text-ym-grey"},[s("div",{staticClass:"grid gap-4 grid-cols-2 w-full"},t._l(t.musicsTypes,(function(e){return s("div",{key:e.value},[s("label",{staticClass:"mr-2",attrs:{for:e.value}},[t._v(t._s(e.label))]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"type.checked"}],staticClass:"checkbox",attrs:{type:"checkbox",id:e.value},domProps:{checked:e.checked,checked:Array.isArray(e.checked)?t._i(e.checked,null)>-1:e.checked},on:{change:function(s){var a=e.checked,i=s.target,n=!!i.checked;if(Array.isArray(a)){var r=null,l=t._i(a,r);i.checked?l<0&&t.$set(e,"checked",a.concat([r])):l>-1&&t.$set(e,"checked",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(e,"checked",n)}}})])})),0)])]),s("div",{staticClass:"w-full sm:w-1/2"},[s("h3",{staticClass:"text-xl text-ym-blue w-full font-bold my-4"},[t._v("Types de profil")]),s("div",{staticClass:"flex flex-wrap text-ym-grey"},[s("div",{staticClass:"grid gap-4 grid-cols-2 w-full"},t._l(t.profilesTypes,(function(e){return s("div",{key:e.value},[s("label",{staticClass:"mr-2",attrs:{for:e.value}},[t._v(t._s(e.label))]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"type.checked"}],staticClass:"checkbox",attrs:{type:"checkbox",id:e.value},domProps:{checked:e.checked,checked:Array.isArray(e.checked)?t._i(e.checked,null)>-1:e.checked},on:{change:function(s){var a=e.checked,i=s.target,n=!!i.checked;if(Array.isArray(a)){var r=null,l=t._i(a,r);i.checked?l<0&&t.$set(e,"checked",a.concat([r])):l>-1&&t.$set(e,"checked",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(e,"checked",n)}}})])})),0)])]),t._m(0),s("div",{staticClass:"mt-10 mb-16 w-full flex justify-center"},[s("button",{staticClass:"btn-yzi",on:{click:function(e){return t.previous()}}},[t._v("Retour")]),s("button",{staticClass:"btn-yzi",attrs:{disabled:!t.isFullFilled},on:{click:function(e){return t.next()}}},[t._v("Suivant")])])])])},Mt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"w-full text-right mt-4"},[s("span",[t._v("Champs obligatoires*")])])}],Nt=(s("a4d3"),s("e01a"),{name:"RegisterStep2",data:function(){return{profilesTypes:it,musicsTypes:rt,description:"",location:"",birthday:""}},computed:Object(O["a"])(Object(O["a"])({},Object(p["c"])({user:function(t){return t.User.user}})),{},{isFullFilled:function(){return""!==this.description&&""!==this.location&&""!==this.birthday}}),created:function(){var t=this;this.user.description&&(this.description=this.user.description),this.user.location&&(this.location=this.user.location),this.user.birthday&&(this.birthday=this.user.birthday),this.user.musicsTypes.forEach((function(e){t.musicsTypes.forEach((function(t){t.value===e&&(t.checked=!0)}))})),this.user.profilesTypes.forEach((function(e){t.profilesTypes.forEach((function(t){t.value===e&&(t.checked=!0)}))}))},methods:{formatCheckedData:function(t){var e=[];return t.forEach((function(t){t.checked&&(e=[].concat(Object(m["a"])(e),[t.value]))})),e},next:function(){this.$store.dispatch("User/setUserField",{profilesTypes:this.formatCheckedData(this.profilesTypes),musicsTypes:this.formatCheckedData(this.musicsTypes),description:this.description,location:this.location,birthday:this.birthday}),this.$emit("increment")},previous:function(){this.$emit("decrement")}}}),Rt=Nt,zt=Object(o["a"])(Rt,St,Mt,!1,null,"02d81f64",null),Ot=zt.exports,At=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h2",{staticClass:"text-3xl mb-6 font-bold text-white"},[t._v("Liens vers vos réseaux")]),s("h3",{staticClass:"text-xl text-ym-blue font-bold mb-4"},[t._v("Réseaux sociaux")]),s("form",{staticClass:"flex flex-wrap text-ym-grey"},[s("div",{staticClass:"grid gap-4 grid-cols-1 sm:grid-cols-2 w-full"},[s("div",{staticClass:"w-full text-left my-2"},[s("label",{staticClass:"label",attrs:{for:"facebook"}},[t._v("Facebook")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.facebookLink,expression:"facebookLink"}],staticClass:"input",attrs:{id:"facebook",name:"facebookLink"},domProps:{value:t.facebookLink},on:{input:function(e){e.target.composing||(t.facebookLink=e.target.value)}}})]),s("div",{staticClass:"w-full text-left my-2"},[s("label",{staticClass:"label",attrs:{for:"twitter"}},[t._v("Twitter")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.twitterLink,expression:"twitterLink"}],staticClass:"input",attrs:{id:"twitter",name:"twitterLink"},domProps:{value:t.twitterLink},on:{input:function(e){e.target.composing||(t.twitterLink=e.target.value)}}})]),s("div",{staticClass:"w-full text-left my-2"},[s("label",{staticClass:"label",attrs:{for:"instagram"}},[t._v("Instagram")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.instagramLink,expression:"instagramLink"}],staticClass:"input",attrs:{id:"instagram",name:"instagramLink"},domProps:{value:t.instagramLink},on:{input:function(e){e.target.composing||(t.instagramLink=e.target.value)}}})]),s("div",{staticClass:"w-full text-left my-2"},[s("label",{staticClass:"label",attrs:{for:"youtube"}},[t._v("Youtube")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.youtubeLink,expression:"youtubeLink"}],staticClass:"input",attrs:{id:"youtube",name:"youtubeLink"},domProps:{value:t.youtubeLink},on:{input:function(e){e.target.composing||(t.youtubeLink=e.target.value)}}})])])]),s("h3",{staticClass:"text-xl text-ym-blue font-bold my-4"},[t._v("Streaming")]),s("div",{staticClass:"flex flex-wrap text-ym-grey"},[s("div",{staticClass:"grid gap-4 grid-cols-1 sm:grid-cols-2 w-full"},[s("div",{staticClass:"w-full text-left my-2"},[s("label",{staticClass:"label",attrs:{for:"spotify"}},[t._v("Spotify")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.spotifyLink,expression:"spotifyLink"}],staticClass:"input",attrs:{id:"spotify",name:"spotifyLink"},domProps:{value:t.spotifyLink},on:{input:function(e){e.target.composing||(t.spotifyLink=e.target.value)}}})]),s("div",{staticClass:"w-full text-left my-2"},[s("label",{staticClass:"label",attrs:{for:"deezer"}},[t._v("Deezer")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.deezerLink,expression:"deezerLink"}],staticClass:"input",attrs:{id:"deezer",name:"deezerLink"},domProps:{value:t.deezerLink},on:{input:function(e){e.target.composing||(t.deezerLink=e.target.value)}}})]),s("div",{staticClass:"w-full text-left my-2"},[s("label",{staticClass:"label",attrs:{for:"applemusic"}},[t._v("Apple Music")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.appleMusicLink,expression:"appleMusicLink"}],staticClass:"input",attrs:{id:"applemusic",name:"appleMusicLink"},domProps:{value:t.appleMusicLink},on:{input:function(e){e.target.composing||(t.appleMusicLink=e.target.value)}}})]),s("div",{staticClass:"w-full text-left my-2"},[s("label",{staticClass:"label",attrs:{for:"soundcloud"}},[t._v("Soundcloud")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.soundcloudLink,expression:"soundcloudLink"}],staticClass:"input",attrs:{id:"soundcloud",name:"soundcloudLink"},domProps:{value:t.soundcloudLink},on:{input:function(e){e.target.composing||(t.soundcloudLink=e.target.value)}}})])])]),t._m(0),s("div",{staticClass:"mt-10 mb-16 w-full flex justify-center"},[s("button",{staticClass:"btn-yzi",on:{click:function(e){return t.previous()}}},[t._v("Retour")]),s("button",{staticClass:"btn-yzi",on:{click:function(e){return t.next()}}},[t._v("S'inscrire")])])])},$t=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"w-full text-right mt-4"},[s("span",{staticClass:"text-white"},[t._v("Champs obligatoires*")])])}],It={name:"RegisterStep3",data:function(){return{facebookLink:"",twitterLink:"",instagramLink:"",youtubeLink:"",spotifyLink:"",deezerLink:"",appleMusicLink:"",soundcloudLink:""}},computed:Object(O["a"])({},Object(p["c"])({user:function(t){return t.User.user}})),created:function(){this.facebookLink=this.user.facebookLink?this.user.facebookLink:"",this.twitterLink=this.user.twitterLink?this.user.twitterLink:"",this.instagramLink=this.user.instagramLink?this.user.instagramLink:"",this.youtubeLink=this.user.youtubeLink?this.user.youtubeLink:"",this.spotifyLink=this.user.spotifyLink?this.user.spotifyLink:"",this.deezerLink=this.user.deezerLink?this.user.deezerLink:"",this.appleMusicLink=this.user.appleMusicLink?this.user.appleMusicLink:"",this.soundcloudLink=this.user.soundcloudLink?this.user.soundcloudLink:""},methods:Object(O["a"])(Object(O["a"])({},Object(p["b"])({registerUser:"User/registerUser"})),{},{next:function(){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.$store.dispatch("User/setUserField",{facebookLink:t.facebookLink,twitterLink:t.twitterLink,instagramLink:t.instagramLink,youtubeLink:t.youtubeLink,spotifyLink:t.spotifyLink,deezerLink:t.deezerLink,appleMusicLink:t.appleMusicLink,soundcloudLink:t.soundcloudLink}),e.next=3,t.registerUser();case 3:t.$emit("increment");case 4:case"end":return e.stop()}}),e)})))()},previous:function(){this.$emit("decrement")}})},Dt=It,Ft=Object(o["a"])(Dt,At,$t,!1,null,"73775754",null),Bt=Ft.exports,qt={name:"Register",components:{Step1:Et,Step2:Ot,Step3:Bt},data:function(){return{step:1}},computed:Object(O["a"])({},Object(p["c"])({user:function(t){return t.User.user},is_login:function(t){return t.User.is_login},alert:function(t){return t.Utils.snackbar}})),methods:{incrementStep:function(){this.step++},decrementStep:function(){this.step--}}},Kt=qt,Gt=Object(o["a"])(Kt,Ct,_t,!1,null,"542d1c62",null),Ht=Gt.exports,Yt=[{path:"/register",name:"Register",component:Ht},{path:"/login",name:"Login",component:wt}],Vt=Yt,Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-16 flex flex-wrap"},[a("div",{staticClass:"profile-header w-full lg:w-1/3 lg:-m-10 lg:p-10 lg:bg-ym-sm-light-black relative"},[t.isAuthUser?a("div",{staticClass:"absolute setting-btn",on:{click:t.goToSetting}},[a("i",{staticClass:"fas fa-cog"})]):t._e(),a("div",{staticClass:"mb-6 mt-8"},[a("div",{staticClass:"relative flex justify-center"},[a("img",{staticClass:"h-48 w-48 profile-img relative rounded-full border-solid border-main border-8 -mt-3",attrs:{src:t.imageProfile,alt:"photo de profil"}}),a("h1",{staticClass:"text-shadow absolute username-profile mt-4 text-white text-4xl font-black font-sans italic uppercase"},[t._v(" "+t._s(t.user.username)+" ")])])]),a("div",{staticClass:"profile-main-infos"},[a("div",t._l(t.userProfilesTypes,(function(e,s){return a("span",{key:e.value,staticClass:"font-black text-2xl text-main"},[t._v(" "+t._s(e.label)+t._s(s+1!==t.userProfilesTypes.length?", ":" ")+" ")])})),0),a("div",{staticClass:"musics-container flex px-3 py-2 text-grey-dark my-4 px-10 -mx-10"},[t._m(0),a("ul",{staticClass:"chips pl-4 flex flex-wrap justify-left items-center"},t._l(t.userMusicsTypes,(function(e){return a("li",{key:e.value},[t._v(" "+t._s(e.label)+" ")])})),0)])]),t.isAuthUser?t._e():a("div",{staticClass:"flex justify-around"},[a("div",{staticClass:"flex items-center justify-center flex-col"},[a("a",{staticClass:"mb-2 uppercase rounded-full bg-main italic font-bold mt-4 btn-primary transition duration-300 ease-in-out h-12 w-12 flex items-center justify-center",attrs:{href:"mailto:"+t.user.email}},[a("i",{staticClass:"fas fa-envelope text-xl text-white"})]),a("span",{staticClass:"font-black uppercase italic text-white text-sm"},[t._v("Contacter")])]),a("div",{staticClass:"flex items-center justify-center flex-col"},[t.alreadyLike?a("button",{staticClass:"mb-2 uppercase rounded-full bg-main-light italic font-bold mt-4 btn-primary transition duration-300 ease-in-out h-12 w-12 flex items-center justify-center",on:{click:t.unlikeUser}},[a("i",{staticClass:"fas fa-thumbs-up text-xl text-white"})]):a("button",{staticClass:"mb-2 uppercase rounded-full bg-main italic font-bold mt-4 btn-primary transition duration-300 ease-in-out h-12 w-12 flex items-center justify-center",on:{click:t.likeUser}},[a("i",{staticClass:"fas fa-thumbs-up text-xl text-white"})]),a("span",{staticClass:"font-black uppercase italic text-white text-sm"},[a("span",{staticClass:"like-number"},[t._v(t._s(t.user.likes?t.user.likes.length:0))]),t._v(" likes ")])])]),a("div",{staticClass:"profile-secondary-infos text-left my-4 border-b-2 border-infos"},[a("div",{staticClass:"flex justify-between items-center text-white",on:{click:function(e){t.showInfos=!t.showInfos}}},[a("h2",{staticClass:"title-infos uppercase font-black italic text-2xl my-0 py-0"},[t._v("Infos")]),a("i",{directives:[{name:"show",rawName:"v-show",value:!t.showInfos,expression:"!showInfos"}],staticClass:"fas fa-chevron-right"}),a("i",{directives:[{name:"show",rawName:"v-show",value:t.showInfos,expression:"showInfos"}],staticClass:"fas fa-chevron-down"})]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showInfos,expression:"showInfos"}],staticClass:"transition-all flex flex-row lg:flex-col w-full flex-wrap"},[a("div",{staticClass:"mb-4 w-full"},[a("span",{staticClass:"italic font-thin text-sm text-white"},[t._v("Nom")]),a("div",[a("span",{staticClass:"font-bold text-xl text-white"},[t._v(t._s(t.user.lastname))])])]),a("div",{staticClass:"mb-4 w-full"},[a("span",{staticClass:"italic font-thin text-sm text-white"},[t._v("Prénom")]),a("div",[a("span",{staticClass:"font-bold text-xl text-white"},[t._v(t._s(t.user.firstname))])])]),a("div",{staticClass:"mb-4 w-full"},[a("span",{staticClass:"italic font-thin text-sm text-white"},[t._v("Âge")]),a("div",[a("span",{staticClass:"font-bold text-xl text-white"},[t._v(t._s(t.getAge(t.user.birthday))+" ans")])])]),a("div",{staticClass:"mb-4 w-full"},[a("span",{staticClass:"italic font-thin text-sm text-white"},[t._v("Ville/Pays")]),a("div",[a("span",{staticClass:"font-bold text-xl text-white"},[t._v(t._s(t.user.location))])])]),a("div",{staticClass:"mb-4 w-full"},[a("span",{staticClass:"italic font-thin text-sm text-white"},[t._v("E-mail : ")]),a("div",[t.showEmail?a("span",{staticClass:"font-bold text-lg text-white"},[t._v(t._s(t.user.email))]):a("button",{staticClass:"uppercase text-sm italic font-bold w-auto btn-primary transition duration-300 ease-in-out focus:outline-none bg-main hover:bg-main text-white font-normal py-2 px-4 rounded",on:{click:t.displayEmail}},[t._v("Voir")])])])])])]),a("div",{staticClass:"profile-content w-full lg:w-2/3 lg:pl-10"},[a("div",{staticClass:"w-10/12 max-w-3xl mx-auto"},[a("div",{staticClass:"w-full order-1 py-2 bg-ym-black lg:order-2 text-left"},[a("h2",{staticClass:"relative text-left font-black uppercase italic text-2xl shadow-title title--outline mb-4"},[t._v("À propos")]),a("p",{staticClass:"text-white text-lg font-thin mb-4"},[t._v(t._s(t.user.description?t.user.description:"Aucune description pour le moment !"))])]),a("div",{staticClass:"w-full order-1 py-2 bg-ym-black lg:order-2 text-left"},[a("h2",{staticClass:"relative text-left font-black uppercase italic text-2xl shadow-title title--outline mb-4"},[t._v("Projets")]),a("div",[a("ul",[t.user.tracks&&t.user.tracks.length>0?t._l(t.user.tracks,(function(e){return a("li",{key:e._id,staticClass:"flex w-full max-w-lg border-1 border-main-light py-2 px-4 rounded-lg my-2"},[a("div",{staticClass:"flex flex-col w-3/4"},[a("span",{staticClass:"uppercase font-black text-main-light"},[t._v(t._s(e.name))]),a("span",{staticClass:"font-medium italic text-white text-xs"},[t._v(t._s(t.user.username))])]),a("div",{staticClass:"flex w-1/4 items-center justify-end"},[t.play&&t.playingTrack.track._id===e._id?a("button",{staticClass:"border-1 border-main-light hover:bg-main-light hover:text-white text-main-light font-bold rounded-full flex justify-center items-center h-8 w-8",on:{click:t.pauseTrack}},[a("i",{staticClass:"fas fa-pause text-xs"})]):!t.play&&t.playingTrack&&t.playingTrack.track._id===e._id?a("button",{staticClass:"border-1 border-main-light hover:bg-main-light hover:text-white text-main-light font-bold rounded-full flex justify-center items-center h-8 w-8",on:{click:function(e){return t.playTrack()}}},[a("i",{staticClass:"fas fa-play text-xs"})]):a("button",{staticClass:"border-1 border-main-light hover:bg-main-light hover:text-white text-main-light font-bold rounded-full flex justify-center items-center h-8 w-8",on:{click:function(s){return t.playTrack(e._id)}}},[a("i",{staticClass:"fas fa-play text-xs"})])])])})):[a("li",{staticClass:"text-white"},[t._v(" Aucun projet pour le moment ! ")])]],2)])]),a("div",{staticClass:"w-full order-3 py-2 bg-ym-black lg:order-3 text-left"},[a("div",[a("h2",{staticClass:"relative text-left font-black uppercase italic text-2xl shadow-title title--outline mb-4"},[t._v("Réseaux sociaux")]),a("div",{staticClass:"flex flex-wrap justify-between py-4"},[a("div",{staticClass:"text-center px-4"},[a("a",{staticClass:"text-center",attrs:{href:t.user.facebookLink?t.user.facebookLink:"#"}},[a("img",{class:["icons-social mx-auto my-2",{grayscale:!t.user.facebookLink}],attrs:{src:s("4440"),alt:"logo facebook"}}),a("span",{class:t.user.facebookLink?"text-white font-bold":"text-gray-700"},[t._v("Facebook")])])]),a("div",{staticClass:"text-center px-4"},[a("a",{staticClass:"text-center",attrs:{href:t.user.twitterLink?t.user.twitterLink:"#"}},[a("img",{class:["icons-social mx-auto my-2",{grayscale:!t.user.twitterLink}],attrs:{src:s("acf9"),alt:"logo twitter"}}),a("span",{class:t.user.twitterLink?"text-white font-bold":"text-gray-700"},[t._v("Twitter")])])]),a("div",{staticClass:"text-center px-4"},[a("a",{staticClass:"text-center",attrs:{href:t.user.instagramLink?t.user.instagramLink:"#"}},[a("img",{class:["icons-social mx-auto my-2",{grayscale:!t.user.instagramLink}],attrs:{src:s("b069"),alt:"logo instagram"}}),a("span",{class:t.user.instagramLink?"text-white font-bold":"text-gray-700"},[t._v("Instagram")])])]),a("div",{staticClass:"text-center px-4"},[a("a",{staticClass:"text-center",attrs:{href:t.user.youtubeLink?t.user.youtubeLink:"#"}},[a("img",{class:["icons-social mx-auto my-2",{grayscale:!t.user.youtubeLink}],attrs:{src:s("7702"),alt:"logo youtube"}}),a("span",{class:t.user.youtubeLink?"text-white font-bold":"text-gray-700"},[t._v("YouTube")])])])]),a("h2",{staticClass:"relative text-left font-black uppercase italic text-2xl shadow-title title--outline mb-4"},[t._v("Streaming")]),a("div",{staticClass:"flex flex-wrap justify-between py-4"},[a("div",{staticClass:"text-center px-4"},[a("a",{staticClass:"text-center",attrs:{href:t.user.spotifyLink?t.user.spotifyLink:"#"}},[a("img",{class:["icons-social mx-auto my-2",{grayscale:!t.user.spotifyLink}],attrs:{src:s("d32e"),alt:"logo spotify"}}),a("span",{class:t.user.spotifyLink?"text-white font-bold":"text-gray-700"},[t._v("Spotify")])])]),a("div",{staticClass:"text-center px-4"},[a("a",{staticClass:"text-center",attrs:{href:t.user.appleMusicLink?t.user.appleMusicLink:"#"}},[a("img",{class:["icons-social mx-auto my-2",{grayscale:!t.user.appleMusicLink}],attrs:{src:s("23f4"),alt:"logo applemusic"}}),a("span",{class:t.user.appleMusicLink?"text-white font-bold":"text-gray-700"},[t._v("Apple Music")])])]),a("div",{staticClass:"text-center px-4"},[a("a",{staticClass:"text-center",attrs:{href:t.user.deezerLink?t.user.deezerLink:"#"}},[a("img",{class:["icons-social mx-auto my-2",{grayscale:!t.user.deezerLink}],attrs:{src:s("b724"),alt:"logo deezer"}}),a("span",{class:t.user.deezerLink?"text-white font-bold":"text-gray-700"},[t._v("Deezer")])])]),a("div",{staticClass:"text-center px-4"},[a("a",{staticClass:"text-center",attrs:{href:t.user.soundcloudLink?t.user.soundcloudLink:"#"}},[a("img",{class:["icons-social mx-auto my-2",{grayscale:!t.user.soundcloudLink}],attrs:{src:s("cadf"),alt:"logo soundcloud"}}),a("span",{class:t.user.soundcloudLink?"text-white font-bold":"text-gray-700"},[t._v("SoundCloud")])])])])])])])])])},Wt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"uppercase font-thin text-white justify-left flex flex-col items-start align-center pr-4 border-r-2 border-ym-light-black"},[s("span",{staticClass:"block"},[t._v("Genres")]),s("span",{staticClass:"block"},[t._v("Musicaux")])])}],Xt=s("c1df"),Qt=s.n(Xt),Zt={name:"ShowProfile",data:function(){return{user:{},isAuthUser:!1,constProfilesTypes:it,constMusicsTypes:rt,showEmail:!1,showInfos:document.documentElement.clientWidth>=1024,alreadyLike:!1}},computed:Object(O["a"])(Object(O["a"])({},Object(p["c"])({authUser:function(t){return t.User.user},is_login:function(t){return t.User.is_login},playingTrack:function(t){return t.Tracks.playingTrack},play:function(t){return t.Tracks.play}})),{},{imageProfile:function(){return this.user.profilePicture?"data:"+this.user.profilePicture.contentType+";base64,"+this.user.profilePicture.picture:s("d6eb")},userProfilesTypes:function(){var t=this;return this.constProfilesTypes.filter((function(e){if(t.user.profilesTypes&&t.user.profilesTypes.includes(e.value))return e.checked=!0,e}))},userMusicsTypes:function(){var t=this;return this.constMusicsTypes.filter((function(e){if(t.user.musicsTypes&&t.user.musicsTypes.includes(e.value))return e.checked=!0,e}))}}),created:function(){window.addEventListener("resize",this.windowResize)},destroyed:function(){window.removeEventListener("resize",this.windowResize)},mounted:function(){"Profile.me"===this.$route.name?(this.is_login||this.$router.push({name:"Login"}),this.isAuthUser=this.authUser._id):this.is_login&&(this.isAuthUser=this.authUser._id===this.$route.params.id),this.isAuthUser?this.user=this.authUser:this.getUser()},methods:{likeUser:function(){var t=this;a["a"].prototype.$http.put("http://localhost:6985/api/users/like",{userId:this.user._id}).then((function(e){t.alreadyLike=!0,t.user=e.data.data}))},unlikeUser:function(){var t=this;a["a"].prototype.$http.put("http://localhost:6985/api/users/unlike",{userId:this.user._id}).then((function(e){t.alreadyLike=!1,t.user=e.data.data}))},goToSetting:function(){this.$router.push({name:"Profile.setting"})},getUser:function(){var t=this;a["a"].prototype.$http.get("http://localhost:6985/api/users/"+this.$route.params.id).then((function(e){t.user=e.data.data,t.alreadyLike=t.user.likes.includes(t.authUser._id)}))},displayEmail:function(){this.showEmail=!0},getAge:function(t){return Qt()().diff(Qt()(t),"year")},playTrack:function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(){var e,s=this,a=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:null,t.next=3,this.$store.dispatch("Tracks/setTracks",{tracks:this.user.tracks,trackId:e}).then((function(){e?s.$store.dispatch("Tracks/setPlayingTrack",e):s.$store.dispatch("Tracks/setPlay")}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),pauseTrack:function(){this.$store.dispatch("Tracks/setPause")},windowResize:function(){document.documentElement.clientWidth>=1024&&!this.showInfos?this.showInfos=!0:document.documentElement.clientWidth<1024&&this.showInfos&&(this.showInfos=!1)}}},te=Zt,ee=(s("edeb"),Object(o["a"])(te,Jt,Wt,!1,null,"8805fe16",null)),se=ee.exports,ae=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mx-auto max-w-4xl"},[s("h1",{staticClass:"relative text-left font-black uppercase italic text-5xl shadow-title title--outline mb-4"},[t._v("Réglages")]),s("div",[s("div",{staticClass:"relative"},[s("button",{staticClass:"relative w-auto flex items-center justify-between z-10 text-3xl my-4 text-white font-black focus:outline-none",on:{click:function(e){t.settingsDropdown=!t.settingsDropdown}}},[t._v(" "+t._s(t.settingsSelected.label)+" "),s("svg",{staticClass:"h-8 w-8 text-gray-800 ml-6 arrow-anim",class:{rotate:!t.settingsDropdown},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"white"}},[s("path",{attrs:{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"}})])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.settingsDropdown,expression:"settingsDropdown"}],staticClass:"fixed inset-0 h-full w-full z-10",on:{click:function(e){t.settingsDropdown=!1}}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.settingsDropdown,expression:"settingsDropdown"}],staticClass:"absolute left-0 w-full sm:w-auto mt-2 py-2 text-left bg-white rounded-md shadow-xl z-20"},t._l(t.settingsSteps,(function(e){return s("span",{key:e.name,staticClass:"block px-8 py-4 text-sm text-gray-700 hover:bg-main hover:text-white",on:{click:function(s){return t.selectStep(e)}}},[t._v(" "+t._s(e.label)+" ")])})),0)])]),"profile"===t.settingsSelected.name?s("stepProfileSettings"):"social-network"===t.settingsSelected.name?s("stepSocialNetworkSettings"):"streaming"===t.settingsSelected.name?s("stepStreamingSettings"):s("stepTracksSettings")],1)},ie=[],ne=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-left"},[s("modalUploadPicture",{directives:[{name:"show",rawName:"v-show",value:t.showModalUploadPicture,expression:"showModalUploadPicture"}],attrs:{imageProfile:t.imageProfile,user:t.user},on:{close:function(e){t.showModalUploadPicture=!1}}}),s("div",{staticClass:"flex flex-wrap justify-between text-ym-grey"},[s("div",{staticClass:"sm:w-1/3 w-full text-left my-2"},[s("img",{staticClass:"h-24 w-24 profile-img relative block mx-auto rounded-full border-solid border-main border-5",attrs:{src:t.imageProfile,alt:"Photo de profil"}}),s("button",{staticClass:"block mx-auto font-400 italic underline hover:text-ym-blue",on:{click:function(e){t.showModalUploadPicture=!0}}},[t._v("Changer")])]),s("div",{staticClass:"sm:w-1/3 w-full sm:pr-2 text-left my-2"},[s("label",{staticClass:"label",attrs:{for:"firstname"}},[t._v("Prénom")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.firstname,expression:"firstname"}],staticClass:"input",attrs:{id:"firstname",name:"firstname",required:"",placeholder:"John"},domProps:{value:t.firstname},on:{input:function(e){e.target.composing||(t.firstname=e.target.value)}}})]),s("div",{staticClass:"sm:w-1/3 w-full sm:pl-2 text-left my-2"},[s("label",{staticClass:"label",attrs:{for:"lastname"}},[t._v("Nom")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.lastname,expression:"lastname"}],staticClass:"input",attrs:{id:"lastname",name:"lastname",required:"",placeholder:"Doe"},domProps:{value:t.lastname},on:{input:function(e){e.target.composing||(t.lastname=e.target.value)}}})]),s("div",{staticClass:"sm:w-1/2 w-full sm:pr-2 text-left my-2"},[s("label",{staticClass:"label",attrs:{for:"email"}},[t._v("Adresse mail")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"input",attrs:{id:"email",required:"",name:"email",type:"email",placeholder:"JohnDoe@gmail.com"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),s("div",{staticClass:"sm:w-1/2 w-full sm:pl-2 text-left my-2"},[s("label",{staticClass:"label",attrs:{for:"username"}},[t._v("Pseudo")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"input",attrs:{id:"username",required:"",name:"username",placeholder:"Jdoe"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),s("div",{staticClass:"w-full sm:pr-2 text-left my-2"},[s("label",{staticClass:"label",attrs:{for:"description"}},[t._v("Description")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"input w-full",attrs:{placeholder:"Bio, projets, souhaits...",name:"description",id:"description",rows:"8"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),s("div",{staticClass:"sm:w-1/2 w-full sm:pr-2 text-left my-2"},[s("label",{staticClass:"label",attrs:{for:"location"}},[t._v("Ville, Pays")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.location,expression:"location"}],staticClass:"input",attrs:{type:"text",id:"location",placeholder:"Paris, France"},domProps:{value:t.location},on:{input:function(e){e.target.composing||(t.location=e.target.value)}}})]),s("div",{staticClass:"sm:w-1/2 w-full sm:pr-2 text-left my-2"},[s("label",{staticClass:"label",attrs:{for:"birthday"}},[t._v("Date de naissance")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.birthday,expression:"birthday"}],staticClass:"input",attrs:{type:"date",id:"birthday",placeholder:"31/12/1990"},domProps:{value:t.birthday},on:{input:function(e){e.target.composing||(t.birthday=e.target.value)}}})]),s("h3",{staticClass:"text-xl w-full text-ym-blue font-bold my-4"},[t._v("Styles de musique")]),s("div",{staticClass:"flex flex-wrap text-ym-grey"},[s("div",{staticClass:"grid gap-4 grid-cols-2 w-full"},t._l(t.musicsTypes,(function(e){return s("div",{key:e.value},[s("label",{staticClass:"mr-2",attrs:{for:e.value}},[t._v(t._s(e.label))]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"type.checked"}],staticClass:"checkbox",attrs:{type:"checkbox",id:e.value},domProps:{checked:e.checked,checked:Array.isArray(e.checked)?t._i(e.checked,null)>-1:e.checked},on:{change:function(s){var a=e.checked,i=s.target,n=!!i.checked;if(Array.isArray(a)){var r=null,l=t._i(a,r);i.checked?l<0&&t.$set(e,"checked",a.concat([r])):l>-1&&t.$set(e,"checked",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(e,"checked",n)}}})])})),0)]),s("h3",{staticClass:"text-xl text-ym-blue w-full font-bold my-4"},[t._v("Types de profil")]),s("div",{staticClass:"flex flex-wrap text-ym-grey"},[s("div",{staticClass:"grid gap-4 grid-cols-2 w-full"},t._l(t.profilesTypes,(function(e){return s("div",{key:e.value},[s("label",{staticClass:"mr-2",attrs:{for:e.value}},[t._v(t._s(e.label))]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"type.checked"}],staticClass:"checkbox",attrs:{type:"checkbox",id:e.value},domProps:{checked:e.checked,checked:Array.isArray(e.checked)?t._i(e.checked,null)>-1:e.checked},on:{change:function(s){var a=e.checked,i=s.target,n=!!i.checked;if(Array.isArray(a)){var r=null,l=t._i(a,r);i.checked?l<0&&t.$set(e,"checked",a.concat([r])):l>-1&&t.$set(e,"checked",a.slice(0,l).concat(a.slice(l+1)))}else t.$set(e,"checked",n)}}})])})),0)]),s("h3",{staticClass:"text-xl text-ym-blue w-full font-bold my-4"},[t._v("Changer mon mot de passe")]),s("div",{staticClass:"sm:w-1/2 w-full sm:pl-2 text-left my-2"},[s("label",{staticClass:"label",attrs:{for:"password"}},[t._v("Mot de passe")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input",attrs:{id:"password",required:"",name:"password",type:"password",placeholder:"Minimum 8 caractères"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),s("div",{staticClass:"sm:w-1/2 w-full sm:pl-2 text-left my-2"},[s("label",{staticClass:"label",attrs:{for:"confirmPassword"}},[t._v("Confirmation du mot de passe")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmPassword,expression:"confirmPassword"}],staticClass:"input",attrs:{id:"confirmPassword",required:"",name:"password",type:"password",placeholder:"Minimum 8 caractères"},domProps:{value:t.confirmPassword},on:{input:function(e){e.target.composing||(t.confirmPassword=e.target.value)}}})]),s("div",{staticClass:"mt-10 mb-16 w-full flex justify-center"},[s("button",{staticClass:"btn-yzi",attrs:{disabled:!t.isFullFilled},on:{click:t.updateUser}},[t._v("Sauvegarder")])])])],1)},re=[],le=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"overlay bg-gray-300 py-6 flex flex-col justify-center"},[s("div",{staticClass:"py-3 h-full sm:max-w-xl sm:min-w-1/2 sm:mx-auto"},[s("div",{staticClass:"relative h-full bg-white min-w-1xl flex flex-col justify-around rounded-xl shadow-lg"},[s("button",{staticClass:"absolute right-2 top-2",on:{click:t.closeModal}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 18 18"}},[s("path",{attrs:{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"}})])]),t._m(0),s("div",{staticClass:"bg-gray-200 w-full h-full p-8 flex flex-col items-center"},[s("div",{staticClass:"flex flex-col items-center py-2 space-y-3"},[s("span",{staticClass:"text-lg text-gray-800"},[t._v("Image actuelle")]),s("div",{staticClass:"flex space-x-3 pt-1 pb-6"},[s("img",{staticClass:"profile-img h-24 w-24 relative block mx-auto rounded-full border-solid border-main border-5",attrs:{id:"imageProfile",src:t.imageProfile,alt:"Photo de profil"}})])]),s("div",{staticClass:"flex w-full items-center justify-center bg-grey-lighter"},[s("label",{staticClass:"w-64 flex flex-col items-center px-4 py-6 bg-white text-blue rounded-lg shadow-lg tracking-wide uppercase border border-blue cursor-pointer hover:bg-main hover:text-white"},[s("svg",{staticClass:"w-8 h-8",attrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[s("path",{attrs:{d:"M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z"}})]),s("span",{staticClass:"mt-2 text-center leading-normal"},[t._v("Sélectionner une photo (max: 15mb)")]),s("input",{staticClass:"hidden",attrs:{type:"file"},on:{change:t.onFileChange}})])])]),s("div",{class:["py-6 flex items-center justify-center text-xl text-bold hover:text-white rounded-b-xl",t.selectedImage?"bg-white hover:bg-main":"bg-gray-400 hover:bg-gray-600"]},[s("button",{attrs:{disabled:!t.selectedImage},on:{click:t.onUploadFile}},[t._v("Sauvegarder")])])])])])},oe=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"px-12 py-5 text-center"},[s("h2",{staticClass:"text-gray-800 text-3xl font-black uppercase text-center"},[t._v("Changer")]),s("h3",{staticClass:"text-gray-800 text-2xl font-medium text-center"},[t._v("ma photo de profil")])])}],ce={name:"modalUploadPicture",props:{imageProfile:String,user:Object},data:function(){return{selectedImage:""}},methods:{closeModal:function(){this.$emit("close")},onFileChange:function(t){var e=t.target.files[0];this.selectedImage=e;var s=new FileReader;s.onload=function(){var t=document.getElementById("imageProfile");t.src=s.result},s.readAsDataURL(this.selectedImage)},onUploadFile:function(){var t=this,e=new FormData;e.append("image",this.selectedImage),a["a"].prototype.$http.put("http://localhost:6985/api/users/upload/picture/"+this.user._id,e).then((function(){t.closeModal()})).catch((function(t){console.log(t)}))}}},ue=ce,de=(s("ce67"),Object(o["a"])(ue,le,oe,!1,null,"9a95f996",null)),me=de.exports,pe={name:"ProfileSettings",components:{modalUploadPicture:me},data:function(){return{showModalUploadPicture:!1,email:null,firstname:null,lastname:null,username:null,description:null,location:null,birthday:null,password:null,confirmPassword:null,profilesTypes:it,musicsTypes:rt}},computed:Object(O["a"])(Object(O["a"])({},Object(p["c"])({user:function(t){return t.User.user}})),{},{isFullFilled:function(){var t=this.firstname&&this.lastname&&this.email&&this.username,e=!this.password||this.password.length>7&&this.confirmPassword===this.password;return t&&e},imageProfile:function(){return this.user.profilePicture?"data:"+this.user.profilePicture.contentType+";base64,"+this.user.profilePicture.picture:s("d6eb")}}),mounted:function(){var t=this;this.email=this.user.email,this.firstname=this.user.firstname,this.lastname=this.user.lastname,this.description=this.user.description,this.location=this.user.location,this.birthday=this.user.birthday,this.username=this.user.username,this.password=this.user.password,this.user.musicsTypes.forEach((function(e){t.musicsTypes.forEach((function(t){t.value===e&&(t.checked=!0)}))})),this.user.profilesTypes.forEach((function(e){t.profilesTypes.forEach((function(t){t.value===e&&(t.checked=!0)}))}))},methods:{formatCheckedData:function(t){var e=[];return t.forEach((function(t){t.checked&&(e=[].concat(Object(m["a"])(e),[t.value]))})),e},updateUser:function(){var t=this,e={email:this.email,firstname:this.firstname,lastname:this.lastname,username:this.username,description:this.description,location:this.location,birthday:this.birthday,profilesTypes:this.formatCheckedData(this.profilesTypes),musicsTypes:this.formatCheckedData(this.musicsTypes)};this.password&&(e.password=this.password),a["a"].prototype.$http.put("http://localhost:6985/api/users/"+this.user._id,e).then((function(){t.user.email=t.email,t.user.firstname=t.firstname,t.user.lastname=t.lastname,t.user.description=t.description,t.user.location=t.location,t.user.birthday=t.birthday,t.user.username=t.username,t.user.password=t.password})).catch((function(){}))}}},fe=pe,he=Object(o["a"])(fe,ne,re,!1,null,"3cfc9ad5",null),ve=he.exports,be=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex flex-wrap justify-between text-ym-grey"},[s("div",{staticClass:"sm:w-1/2 w-full sm:pr-2 text-left my-2"},[s("label",{attrs:{for:"facebook"}},[t._v("Facebook")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.facebookLink,expression:"facebookLink"}],staticClass:"input",attrs:{id:"facebook",name:"facebookLink"},domProps:{value:t.facebookLink},on:{input:function(e){e.target.composing||(t.facebookLink=e.target.value)}}})]),s("div",{staticClass:"sm:w-1/2 w-full sm:pl-2 text-left my-2"},[s("label",{attrs:{for:"twitter"}},[t._v("Twitter")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.twitterLink,expression:"twitterLink"}],staticClass:"input",attrs:{id:"twitter",name:"twitterLink"},domProps:{value:t.twitterLink},on:{input:function(e){e.target.composing||(t.twitterLink=e.target.value)}}})]),s("div",{staticClass:"sm:w-1/2 w-full sm:pr-2 text-left my-2"},[s("label",{attrs:{for:"instagram"}},[t._v("Instagram")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.instagramLink,expression:"instagramLink"}],staticClass:"input",attrs:{id:"instagram",name:"instagramLink"},domProps:{value:t.instagramLink},on:{input:function(e){e.target.composing||(t.instagramLink=e.target.value)}}})]),s("div",{staticClass:"sm:w-1/2 w-full sm:pl-2 text-left my-2"},[s("label",{attrs:{for:"youtube"}},[t._v("Youtube")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.youtubeLink,expression:"youtubeLink"}],staticClass:"input",attrs:{id:"youtube",name:"youtubeLink"},domProps:{value:t.youtubeLink},on:{input:function(e){e.target.composing||(t.youtubeLink=e.target.value)}}})]),s("div",{staticClass:"mt-10 mb-16 w-full flex justify-center"},[s("button",{staticClass:"btn-yzi",on:{click:t.updateUser}},[t._v("Sauvegarder")])])])},ge=[],xe={name:"SocialNetworkSettings",data:function(){return{facebookLink:null,twitterLink:null,instagramLink:null,youtubeLink:null}},computed:Object(O["a"])({},Object(p["c"])({user:function(t){return t.User.user}})),mounted:function(){this.facebookLink=this.user.facebookLink,this.twitterLink=this.user.twitterLink,this.instagramLink=this.user.instagramLink,this.youtubeLink=this.user.youtubeLink},methods:{updateUser:function(){var t=this,e={facebookLink:this.facebookLink,twitterLink:this.twitterLink,instagramLink:this.instagramLink,youtubeLink:this.youtubeLink};a["a"].prototype.$http.put("http://localhost:6985/api/users/"+this.user._id,e).then((function(){t.user.facebookLink=t.facebookLink,t.user.twitterLink=t.twitterLink,t.user.instagramLink=t.instagramLink,t.user.youtubeLink=t.youtubeLink})).catch((function(){}))}}},ke=xe,ye=(s("abe8"),Object(o["a"])(ke,be,ge,!1,null,"cab3e318",null)),we=ye.exports,Ce=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex flex-wrap justify-between text-ym-grey"},[s("div",{staticClass:"sm:w-1/2 w-full sm:pr-2 text-left my-2"},[s("label",{attrs:{for:"spotify"}},[t._v("Spotify")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.spotifyLink,expression:"spotifyLink"}],staticClass:"input",attrs:{id:"spotify",name:"spotifyLink"},domProps:{value:t.spotifyLink},on:{input:function(e){e.target.composing||(t.spotifyLink=e.target.value)}}})]),s("div",{staticClass:"sm:w-1/2 w-full sm:pl-2 text-left my-2"},[s("label",{attrs:{for:"deezer"}},[t._v("Deezer")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.deezerLink,expression:"deezerLink"}],staticClass:"input",attrs:{id:"deezer",name:"deezerLink"},domProps:{value:t.deezerLink},on:{input:function(e){e.target.composing||(t.deezerLink=e.target.value)}}})]),s("div",{staticClass:"sm:w-1/2 w-full sm:pr-2 text-left my-2"},[s("label",{attrs:{for:"applemusic"}},[t._v("Apple Music")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.appleMusicLink,expression:"appleMusicLink"}],staticClass:"input",attrs:{id:"applemusic",name:"appleMusicLink"},domProps:{value:t.appleMusicLink},on:{input:function(e){e.target.composing||(t.appleMusicLink=e.target.value)}}})]),s("div",{staticClass:"sm:w-1/2 w-full sm:pl-2 text-left my-2"},[s("label",{attrs:{for:"soundcloud"}},[t._v("Soundcloud")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.soundcloudLink,expression:"soundcloudLink"}],staticClass:"input",attrs:{id:"soundcloud",name:"soundcloudLink"},domProps:{value:t.soundcloudLink},on:{input:function(e){e.target.composing||(t.soundcloudLink=e.target.value)}}})]),s("div",{staticClass:"mt-10 mb-16 w-full flex justify-center"},[s("button",{staticClass:"btn-yzi",on:{click:t.updateUser}},[t._v("Sauvegarder")])])])},_e=[],je={name:"StreamingSettings",data:function(){return{spotifyLink:null,deezerLink:null,appleMusicLink:null,soundcloudLink:null}},computed:Object(O["a"])({},Object(p["c"])({user:function(t){return t.User.user}})),mounted:function(){this.spotifyLink=this.user.spotifyLink,this.deezerLink=this.user.deezerLink,this.appleMusicLink=this.user.appleMusicLink,this.soundcloudLink=this.user.soundcloudLink},methods:{updateUser:function(){var t=this,e={spotifyLink:this.spotifyLink,deezerLink:this.deezerLink,appleMusicLink:this.appleMusicLink,soundcloudLink:this.soundcloudLink};a["a"].prototype.$http.put("http://localhost:6985/api/users/"+this.user._id,e).then((function(){t.user.spotifyLink=t.spotifyLink,t.user.deezerLink=t.deezerLink,t.user.appleMusicLink=t.appleMusicLink,t.user.soundcloudLink=t.soundcloudLink})).catch((function(){}))}}},Le=je,Te=Object(o["a"])(Le,Ce,_e,!1,null,"627a2374",null),Pe=Te.exports,Ue=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("modalUploadTrack",{directives:[{name:"show",rawName:"v-show",value:t.showModalUploadTrack,expression:"showModalUploadTrack"}],on:{close:function(e){t.showModalUploadTrack=!1}}}),s("button",{staticClass:"block mx-auto my-6 bg-main text-white px-6 py-4 rounded font-semibold hover:bg-main-light",on:{click:function(e){t.showModalUploadTrack=!0}}},[t._v(" Ajouter un projet musical "),s("i",{staticClass:"fas fa-upload"})]),s("ul",[t.tracks.length>0?t._l(t.tracks,(function(e){return s("li",{key:e.id,staticClass:"px-4 py-2 bg-white font-bold text-black rounded my-4 flex items-center justify-between"},[s("span",[t._v(t._s(t._f("capitalize")(e.name)))]),s("div",{staticClass:"text-lg"},[s("button",{staticClass:"bg-main hover:bg-main-light text-gray-800 font-bold p-3 rounded inline-flex items-center mr-4",on:{click:function(s){return t.deleteTrack(e._id)}}},[s("i",{staticClass:"far fa-trash-alt text-white"})]),t.play&&t.playingTrack.track._id===e._id?s("button",{staticClass:"bg-main hover:bg-main-light text-gray-800 font-bold p-3 rounded inline-flex items-center mr-4",on:{click:t.pauseTrack}},[s("i",{staticClass:"fas fa-pause text-white"})]):!t.play&&t.playingTrack&&t.playingTrack.track._id===e._id?s("button",{staticClass:"bg-main hover:bg-main-light text-gray-800 font-bold p-3 rounded inline-flex items-center mr-4",on:{click:function(e){return t.playTrack()}}},[s("i",{staticClass:"fas fa-play text-white"})]):s("button",{staticClass:"bg-main hover:bg-main-light text-gray-800 font-bold p-3 rounded inline-flex items-center mr-4",on:{click:function(s){return t.playTrack(e._id)}}},[s("i",{staticClass:"fas fa-play text-white"})])])])})):[t._m(0)]],2)],1)},Ee=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",{staticClass:"px-4 py-2 bg-white font-bold text-black rounded my-4 flex items-center justify-between"},[s("span",[t._v("Aucun projet pour le moment !")])])}],Se=(s("a434"),s("d3b7"),s("25f0"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"overlay bg-gray-300 py-6 flex flex-col justify-center"},[s("div",{staticClass:"py-3 h-full sm:max-w-xl sm:min-w-1/2 sm:mx-auto"},[s("div",{staticClass:"relative h-full bg-white min-w-1xl flex flex-col justify-around rounded-xl shadow-lg"},[s("button",{staticClass:"absolute right-2 top-2",on:{click:t.closeModal}},[s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 18 18"}},[s("path",{attrs:{d:"M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"}})])]),t._m(0),s("div",{staticClass:"bg-gray-200 w-full h-full p-8 flex flex-col items-center"},[s("div",{staticClass:"sm:w-1/2 w-full sm:pr-2 text-left my-2"},[s("label",{staticClass:"label --light",attrs:{for:"name"}},[t._v("Nom du projet")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"input --light ",attrs:{id:"name",required:"",name:"name",type:"text",placeholder:"Titre du projet"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),s("div",{staticClass:"sm:w-1/2 w-full sm:pr-2 text-left my-2"},[s("label",{staticClass:"label --light",attrs:{for:"date"}},[t._v("Date de sortie")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.date,expression:"date"}],staticClass:"input --light shadow-lg",attrs:{id:"date",required:"",name:"date",type:"date"},domProps:{value:t.date},on:{input:function(e){e.target.composing||(t.date=e.target.value)}}})]),s("div",{staticClass:"sm:w-1/2 w-full sm:pr-2 text-left my-2"},[s("label",{staticClass:"label --light",attrs:{for:"tag"}},[t._v("Genre musical")]),s("div",{staticClass:"relative"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.tag,expression:"tag"}],staticClass:"block appearance-none w-full bg-white shadow-lg border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded-lg leading-tights outline-none",attrs:{id:"tag"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.tag=e.target.multiple?s:s[0]}}},t._l(t.musicsTypes,(function(e){return s("option",{key:e.value,domProps:{value:e.value}},[t._v(t._s(e.label))])})),0),s("div",{staticClass:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[s("svg",{staticClass:"fill-current h-4 w-4",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[s("path",{attrs:{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}})])])])]),s("div",{staticClass:"flex w-full items-center justify-center bg-grey-lighter my-auto"},[s("label",{staticClass:"w-64 flex flex-col items-center px-4 py-6 bg-white text-blue rounded-lg shadow-lg tracking-wide uppercase border border-blue cursor-pointer hover:bg-main hover:text-white"},[s("svg",{staticClass:"w-8 h-8",attrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[s("path",{attrs:{d:"M16.88 9.1A4 4 0 0 1 16 17H5a5 5 0 0 1-1-9.9V7a3 3 0 0 1 4.52-2.59A4.98 4.98 0 0 1 17 8c0 .38-.04.74-.12 1.1zM11 11h3l-4-4-4 4h3v3h2v-3z"}})]),s("span",{staticClass:"mt-2 text-center leading-normal"},[t._v("Sélectionner un projet (max: 15mb)")]),s("input",{staticClass:"hidden",attrs:{type:"file"},on:{change:t.onFileChange}})])])]),s("div",{class:["py-6 flex items-center justify-center text-xl text-bold hover:text-white rounded-b-xl",t.selectedTrack?"bg-white hover:bg-main":"bg-gray-400 hover:bg-gray-600"]},[s("button",{attrs:{disabled:!t.selectedTrack},on:{click:t.onUploadFile}},[t._v("Ajouter")])])])])])}),Me=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"px-12 py-5 text-center"},[s("h2",{staticClass:"text-gray-800 text-3xl font-black uppercase text-center"},[t._v("Ajouter")]),s("h3",{staticClass:"text-gray-800 text-2xl font-medium text-center"},[t._v("un projet musical")])])}],Ne={name:"modalUploadPicture",data:function(){return{musicsTypes:rt,selectedTrack:"",tracks:[],name:"",tag:"",date:null,track:null,audio:null}},methods:{closeModal:function(){this.$emit("close")},onFileChange:function(t){var e=t.target.files[0];this.selectedTrack=e},onUploadFile:function(){var t=this,e=new FormData;e.append("track",this.selectedTrack),e.append("name",this.name),e.append("tag",this.tag),e.append("date",this.date),a["a"].prototype.$http.post("http://localhost:6985/api/tracks/upload/",e).then((function(e){t.$store.dispatch("User/setUserTrack",{_id:e.data.data._id,name:e.data.data.name}),t.closeModal()})).catch((function(t){console.log(t)}))}}},Re=Ne,ze=(s("547e"),Object(o["a"])(Re,Se,Me,!1,null,"ff2c945c",null)),Oe=ze.exports,Ae={name:"TracksSettings",components:{modalUploadTrack:Oe},data:function(){return{tracks:[],showModalUploadTrack:!1}},computed:Object(O["a"])({},Object(p["c"])({user:function(t){return t.User.user},playingTrack:function(t){return t.Tracks.playingTrack},play:function(t){return t.Tracks.play}})),filters:{capitalize:function(t){return t?(t=t.toString(),t.charAt(0).toUpperCase()+t.slice(1)):""}},mounted:function(){this.tracks=this.user.tracks},methods:{playTrack:function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(){var e,s=this,a=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:null,t.next=3,this.$store.dispatch("Tracks/setTracks",{tracks:this.tracks,trackId:e}).then((function(){e?s.$store.dispatch("Tracks/setPlayingTrack",e):s.$store.dispatch("Tracks/setPlay")}));case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),pauseTrack:function(){this.$store.dispatch("Tracks/setPause")},deleteTrack:function(t){var e=this;a["a"].prototype.$http.delete("http://localhost:6985/api/tracks/"+t).then((function(){e.tracks.splice(e.tracks.findIndex((function(e){return e._id===t})),1)})).catch((function(){}))}}},$e=Ae,Ie=Object(o["a"])($e,Ue,Ee,!1,null,"70c58da4",null),De=Ie.exports,Fe={name:"settingProfile",components:{stepProfileSettings:ve,stepSocialNetworkSettings:we,stepStreamingSettings:Pe,stepTracksSettings:De},data:function(){return{settingsSteps:[{name:"profile",label:"Mon profil"},{name:"social-network",label:"Mes réseaux sociaux"},{name:"streaming",label:"Streamings"},{name:"tracks",label:"Mes projets"}],settingsSelected:{name:"profile",label:"Mon profil"},settingsDropdown:!1,constProfilesTypes:it,constMusicsTypes:rt}},computed:Object(O["a"])(Object(O["a"])({},Object(p["c"])({authUser:function(t){return t.User.user},is_login:function(t){return t.User.is_login}})),{},{userProfilesTypes:function(){var t=this;return this.constProfilesTypes.filter((function(e){if(t.user.profilesTypes.includes(e.value))return e.checked=!0,e}))},userMusicsTypes:function(){var t=this;return this.constMusicsTypes.filter((function(e){if(t.user.musicsTypes.includes(e.value))return e.checked=!0,e}))}}),methods:{selectStep:function(t){this.settingsSelected=t,this.settingsDropdown=!1}}},Be=Fe,qe=(s("06a4"),Object(o["a"])(Be,ae,ie,!1,null,"87f7aac8",null)),Ke=qe.exports,Ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"absolute bg-center bg-cover flex items-center justify-center top-0 left-0 right-0 bg-gray-400 h-40 sm:h-72",style:{backgroundImage:"url("+t.homeBanner+")"}},[a("div",{staticClass:"flex justify-center mx-6 lg:mx-auto w-full max-w-4xl"},[a("label",{attrs:{for:"search",hidden:""}},[t._v("Recherche")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"input --light --search",attrs:{id:"search",type:"text",name:"search",placeholder:"Pseudo, nom, prénom"},domProps:{value:t.search},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.researchUsers(e)},input:function(e){e.target.composing||(t.search=e.target.value)}}}),a("button",{staticClass:"btn-search",on:{click:t.researchUsers}},[a("img",{staticClass:"h-auto",attrs:{src:s("116f"),alt:"Icône loupe recherche"}})])])]),a("div",{staticClass:"mt-40 flex flex-wrap sm:mt-72 mb-16"},[a("div",{staticClass:"w-full"},[a("h2",{staticClass:"relative text-left font-black uppercase italic text-5xl shadow-title title--outline mb-4"},[t._v(" Résultats ")]),a("div",{staticClass:"scrollable-cards"},[t.searchUsers&&t.searchUsers.length>0?t._l(t.searchUsers,(function(t){return a("div",{key:t._id,staticClass:"card-user"},[a("UserCard",{attrs:{user:t}})],1)})):[t._m(0)]],2)])])])},He=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex justify-center"},[s("span",{staticClass:"text-white"},[t._v("Aucun résultat !")])])}],Ye=(s("ac1f"),s("841c"),{name:"SearchProfile",components:{UserCard:ut},data:function(){return{homeBanner:s("89dc"),search:null,searchUsers:[]}},methods:{researchUsers:function(){var t=this;a["a"].prototype.$http.get("http://localhost:6985/api/users/search?search=".concat(this.search)).then((function(e){t.searchUsers=e.data.data})).catch((function(){}))}}}),Ve=Ye,Je=Object(o["a"])(Ve,Ge,He,!1,null,"1bb539e7",null),We=Je.exports,Xe=[{path:"/profile/:id",name:"Profile.show",component:se},{path:"/me",name:"Profile.me",component:se},{path:"/search",name:"Profile.search",component:We},{path:"/me/setting",name:"Profile.setting",component:Ke}],Qe=Xe,Ze=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"flex flex-wrap"},[a("div",{staticClass:"w-full"},[a("h2",{staticClass:"relative text-left font-black uppercase italic text-5xl shadow-title title--outline mb-4"},[t._v("Dashboard")]),a("div",{staticClass:"flex gap-6 justify-center sm:justify-between flex-wrap sm:flex-no-wrap"},[a("div",{staticClass:"py-4 px-8 shadow-lg rounded-lg bg-ym-light-black"},[a("p",{staticClass:"text-sm text-white"},[t._v("Nombre d'utilisateurs")]),a("span",{staticClass:"text-3xl font-black text-main"},[t._v(t._s(t.stats.users))])]),a("div",{staticClass:"py-4 px-8 shadow-lg rounded-lg bg-ym-light-black"},[a("p",{staticClass:"text-sm text-white"},[t._v("Nombre de beatmakers")]),a("span",{staticClass:"text-3xl font-black text-main"},[t._v(t._s(t.stats.beatmakers))])]),a("div",{staticClass:"py-4 px-8 shadow-lg rounded-lg bg-ym-light-black"},[a("p",{staticClass:"text-sm text-white"},[t._v("Nombre de chanteurs")]),a("span",{staticClass:"text-3xl font-black text-main"},[t._v(t._s(t.stats.singers))])]),a("div",{staticClass:"py-4 px-8 shadow-lg rounded-lg bg-ym-light-black"},[a("p",{staticClass:"text-sm text-white"},[t._v("Nombre de musiciens")]),a("span",{staticClass:"text-3xl font-black text-main"},[t._v(t._s(t.stats.musicians))])])]),a("div",[a("div",{staticClass:"bg-white shadow-md rounded mt-6 mb-16"},[a("table",{staticClass:"w-full table-auto"},[t._m(0),a("tbody",{staticClass:"text-gray-600 text-sm font-light"},t._l(t.users,(function(e){return a("tr",{key:e._id,staticClass:"border-b border-gray-200 bg-ym-lighter-black text-white hover:bg-ym-light-black"},[a("td",{staticClass:"py-3 px-6 text-left whitespace-nowrap"},[a("div",{staticClass:"flex items-center"},[a("img",{staticClass:"w-12 h-12 rounded-full",attrs:{src:e.profilePicture?"data:"+e.profilePicture.contentType+";base64,"+e.profilePicture.picture:s("d6eb"),alt:"photo de profile"}})])]),a("td",{staticClass:"py-3 px-6 font-medium text-left"},[a("div",{staticClass:"flex items-center"},[a("span",[t._v(t._s(e.username))])])]),a("td",{staticClass:"py-3 px-6 font-medium"},[a("div",{staticClass:"flex items-center"},[a("a",{staticClass:"hover:text-ym-blue hover:underline",attrs:{href:"mailto:"+e.email}},[t._v(t._s(e.email))])])]),a("td",{staticClass:"py-3 px-6 font-medium"},[a("div",{staticClass:"flex-col text-left"},t._l(e.profilesTypes,(function(e){return a("div",{key:e,staticClass:"my-2"},[a("span",{staticClass:"bg-main text-white py-1 px-3 rounded-full text-xs"},[t._v(" "+t._s(t.constProfilesTypes.find((function(t){return t.value===e})).label)+" ")])])})),0)]),a("td",{staticClass:"py-3 px-6 font-medium"},[a("div",{staticClass:"flex items-center justify-center"},[a("span",{staticClass:"font-bold"},[t._v(t._s(e.likes.length))])])]),a("td",{staticClass:"py-3 px-6 font-medium"},[a("div",{staticClass:"flex items-center justify-center"},[a("span",{staticClass:"font-bold"},[t._v(t._s(e.tracks.length))])])]),a("td",{staticClass:"py-3 px-6 text-center"},[a("div",{staticClass:"flex item-center justify-center"},[a("router-link",{staticClass:"w-4 mr-2 transform hover:text-ym-blue hover:scale-110",attrs:{to:{name:"Profile.show",params:{id:e._id}}}},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.469,8.924l-2.414,2.413c-0.156,0.156-0.408,0.156-0.564,0c-0.156-0.155-0.156-0.408,0-0.563l2.414-2.414c1.175-1.175,1.175-3.087,0-4.262c-0.57-0.569-1.326-0.883-2.132-0.883s-1.562,0.313-2.132,0.883L9.227,6.511c-1.175,1.175-1.175,3.087,0,4.263c0.288,0.288,0.624,0.511,0.997,0.662c0.204,0.083,0.303,0.315,0.22,0.52c-0.171,0.422-0.643,0.17-0.52,0.22c-0.473-0.191-0.898-0.474-1.262-0.838c-1.487-1.485-1.487-3.904,0-5.391l2.414-2.413c0.72-0.72,1.678-1.117,2.696-1.117s1.976,0.396,2.696,1.117C17.955,5.02,17.955,7.438,16.469,8.924 M10.076,7.825c-0.205-0.083-0.437,0.016-0.52,0.22c-0.083,0.205,0.016,0.437,0.22,0.52c0.374,0.151,0.709,0.374,0.997,0.662c1.176,1.176,1.176,3.088,0,4.263l-2.414,2.413c-0.569,0.569-1.326,0.883-2.131,0.883s-1.562-0.313-2.132-0.883c-1.175-1.175-1.175-3.087,0-4.262L6.51,9.227c0.156-0.155,0.156-0.408,0-0.564c-0.156-0.156-0.408-0.156-0.564,0l-2.414,2.414c-1.487,1.485-1.487,3.904,0,5.391c0.72,0.72,1.678,1.116,2.696,1.116s1.976-0.396,2.696-1.116l2.414-2.413c1.487-1.486,1.487-3.905,0-5.392C10.974,8.298,10.55,8.017,10.076,7.825"}})])]),a("button",{staticClass:"w-4 mr-2 transform hover:text-red-500 hover:scale-110",on:{click:function(s){return t.openModal(e.username,e._id)}}},[a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[a("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"}})])])],1)])])})),0)]),t.modal.visible?a("div",{staticClass:"h-screen w-full fixed flex top-0 left-0 right-0 bottom-0 items-center justify-center bg-modal"},[a("div",{staticClass:"bg-white py-4 px-8 shadow-lg rounded-lg max-w-lg max-h-full text-center"},[a("div",{staticClass:"mb-4"},[a("h3",{staticClass:"text-ym-black font-bold text-2xl"},[t._v(" Souhaitez-vous définitivement supprimer le profil de "),a("span",{staticClass:"text-ym-blue font-black"},[t._v(t._s(t.modal.username))]),t._v(" ? ")])]),a("p",{staticClass:"mb-8"},[t._v(" Attention, cette action est irréversible et définitive ")]),a("div",{staticClass:"flex justify-around"},[a("button",{staticClass:"flex-no-shrink text-white py-2 px-4 rounded bg-ym-blue",on:{click:function(e){t.modal.visible=!1}}},[t._v("Annuler")]),a("button",{staticClass:"flex-no-shrink text-white py-2 px-4 rounded bg-red-500",on:{click:t.deleteUser}},[t._v("Oui, je veux le supprimer")])])])]):t._e()])])])])])},ts=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",{staticClass:"bg-ym-light-black text-main uppercase text-sm leading-normal"},[s("th",{staticClass:"py-3 px-6 text-left"}),s("th",{staticClass:"py-3 px-6 text-left"},[t._v("Pseudo")]),s("th",{staticClass:"py-3 px-6 text-left"},[t._v("Email")]),s("th",{staticClass:"py-3 px-6 text-left"},[t._v("Profiles")]),s("th",{staticClass:"py-3 px-6 text-center"},[t._v("Likes")]),s("th",{staticClass:"py-3 px-6 text-center"},[t._v("Projets")]),s("th",{staticClass:"py-3 px-6 text-center"},[t._v("Actions")])])])}],es={name:"dashboard",data:function(){return{stats:{users:0,beatmakers:0,singers:0,musicians:0},users:[],constProfilesTypes:it,modal:{visible:!1,username:null,userToDelete:null}}},computed:Object(O["a"])({},Object(p["c"])({user:function(t){return t.User.user}})),mounted:function(){"admin"!==this.user.role&&this.$router.push({name:"Home"}),this.getStats(),this.getUsers()},methods:{getUsers:function(){var t=this;a["a"].prototype.$http.get("http://localhost:6985/api/users/").then((function(e){t.users=e.data.data})).catch((function(){}))},getStats:function(){var t=this;a["a"].prototype.$http.get("http://localhost:6985/api/users/stats").then((function(e){t.stats.users=e.data.data.users,t.stats.beatmakers=e.data.data.beatmakers,t.stats.singers=e.data.data.singers,t.stats.musicians=e.data.data.musicians})).catch((function(){}))},openModal:function(t,e){this.modal.visible=!0,this.modal.username=t,this.modal.userToDelete=e},deleteUser:function(){var t=this;a["a"].prototype.$http.delete("http://localhost:6985/api/users/"+this.modal.userToDelete).then((function(){t.getStats(),t.getUsers(),t.closeModal()})).catch((function(){}))},closeModal:function(){this.modal.visible=!1,this.modal.username=null,this.modal.userToDelete=null}}},ss=es,as=(s("6d7c"),Object(o["a"])(ss,Ze,ts,!1,null,"47f627f7",null)),is=as.exports,ns=[{path:"/admin/dashboard",name:"Admin.dashboard",component:is}],rs=ns;a["a"].use(N["a"]);var ls=new N["a"]({mode:"history",base:"/",routes:[{component:Q,path:"",meta:{title:"YziMusic"},children:[].concat(Object(m["a"])(vt),Object(m["a"])(Vt),Object(m["a"])(rs),Object(m["a"])(Qe))}],scrollBehavior:function(){return{x:0,y:0}}});ls.beforeEach(function(){var t=Object(d["a"])(regeneratorRuntime.mark((function t(e,s,a){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=localStorage.getItem("4nR943eM6zRuwnh"),!e.matched.some((function(t){return t.meta.requiresAuth}))){t.next=12;break}if(!M.state.User.is_login){t.next=6;break}return t.abrupt("return",a());case 6:if(!i){t.next=9;break}return t.next=9,M.dispatch("User/loadUser").then((function(){a()})).catch((function(){a("/login")}));case 9:return t.abrupt("return",a("/login"));case 12:if(!M.getters["User/getIsLogin"]){t.next=16;break}return t.abrupt("return",a());case 16:if(!i){t.next=19;break}return t.next=19,M.dispatch("User/loadUser");case 19:return t.abrupt("return",a());case 20:case"end":return t.stop()}}),t)})));return function(e,s,a){return t.apply(this,arguments)}}());var os=ls,cs=(s("def6"),s("07ac"),s("bc3a")),us=s.n(cs),ds=function(t){return"get"!==t.config.method&&M.dispatch("Utils/snackTrue",{content:"Succès",type:"success",timeout:2e3}),t},ms=function(t){var e=[];switch(console.log("err",t.response),t.response.status){case 401:M.dispatch("User/logOutUser"),M.dispatch("Utils/snackTrue",{content:t.response.data.message,type:"error"}),"Login"!==os.currentRoute.name&&os.push({name:"Login"});break;default:M.dispatch("Utils/snackTrue",{content:"Une erreur est survenue avec le serveur !",type:"error"})}return t.response.statusText&&Object.values(t.response.message).forEach((function(t){t.forEach((function(t){e.includes(t)||e.push(t)}))})),Promise.reject(Object(O["a"])(Object(O["a"])({},t),{},{errorsDisplay:e}))},ps=us.a.create({baseUrl:"http://localhost:6985",withCredentials:!0,headers:{"Content-Type":"application/json"}});ps.interceptors.response.use((function(t){return ds(t)}),(function(t){return ms(t)}));var fs=ps;a["a"].config.productionTip=!1,a["a"].prototype.$http=fs,new a["a"]({router:os,store:M,render:function(t){return t(u)}}).$mount("#app")},5750:function(t,e,s){t.exports=s.p+"img/welcome.96692190.svg"},"5a64":function(t,e,s){},"69e3":function(t,e,s){t.exports=s.p+"img/logout.f2a89cc8.svg"},"6b3e":function(t,e,s){"use strict";s("db06")},"6d7c":function(t,e,s){"use strict";s("4b5c")},"75c0":function(t,e,s){},7702:function(t,e,s){t.exports=s.p+"img/youtube.86e7bcc5.png"},"81c9":function(t,e,s){t.exports=s.p+"img/badge.2fd0fe37.svg"},"85ec":function(t,e,s){},"89dc":function(t,e,s){t.exports=s.p+"img/home-banner.c3f5ae70.png"},"916a":function(t,e,s){},abe8:function(t,e,s){"use strict";s("5a64")},ac9d:function(t,e,s){t.exports=s.p+"img/home.a87ab4cc.svg"},acf9:function(t,e,s){t.exports=s.p+"img/twitter.923455be.svg"},aebb:function(t,e,s){},b069:function(t,e,s){t.exports=s.p+"img/instagram.7566c164.png"},b0f4:function(t,e,s){},b724:function(t,e,s){t.exports=s.p+"img/deezer.e339352e.png"},be75:function(t,e,s){"use strict";s("aebb")},cadf:function(t,e,s){t.exports=s.p+"img/soundcloud.d6b9fa3a.png"},ce67:function(t,e,s){"use strict";s("d3a0")},d014:function(t,e,s){},d103:function(t,e,s){t.exports=s.p+"img/search.1ecad3d8.svg"},d104:function(t,e,s){t.exports=s.p+"img/person.79002409.svg"},d32e:function(t,e,s){t.exports=s.p+"img/spotify.91e298cd.png"},d3a0:function(t,e,s){},d6eb:function(t,e,s){t.exports=s.p+"img/default-profile.2b841f87.jpg"},db06:function(t,e,s){},dea3:function(t,e,s){"use strict";s("b0f4")},def6:function(t,e,s){},e347:function(t,e,s){t.exports=s.p+"img/logo.3c2b3e60.svg"},ecef:function(t,e,s){t.exports=s.p+"img/dashboard.fd29911b.svg"},edeb:function(t,e,s){"use strict";s("3d8b")},f25e:function(t,e,s){}});
//# sourceMappingURL=app.28aa7e73.js.map